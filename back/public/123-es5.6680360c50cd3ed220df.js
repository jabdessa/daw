!function(){"use strict";function e(t,i){return e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e(t,i)}function t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var o,r=n(e);if(t){var a=n(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return i(this,o)}}function i(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,r=void 0,"symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?r:String(r)),n)}var o,r}function a(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkjueces=self.webpackChunkjueces||[]).push([[123],{53123:function(i,n,r){r.r(n),r.d(n,{ChildRoutesModule:function(){return ke}});var c=r(60952),u=r(3679),s=r(33637),l=r(77393),d=r(41593);function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.P,i=function(e){return e instanceof Date&&!isNaN(+e)}(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new Z(i,t))}}var g,Z=function(){function e(t,i){o(this,e),this.delay=t,this.scheduler=i}return a(e,[{key:"call",value:function(e,t){return t.subscribe(new f(e,this.delay,this.scheduler))}}]),e}(),f=function(i){!function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&e(t,i)}(r,i);var n=t(r);function r(e,t,i){var a;return o(this,r),(a=n.call(this,e)).delay=t,a.scheduler=i,a.queue=[],a.active=!1,a.errored=!1,a}return a(r,[{key:"_schedule",value:function(e){this.active=!0,this.destination.add(e.schedule(r.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}},{key:"scheduleNotification",value:function(e){if(!0!==this.errored){var t=this.scheduler,i=new m(t.now()+this.delay,e);this.queue.push(i),!1===this.active&&this._schedule(t)}}},{key:"_next",value:function(e){this.scheduleNotification(d.P.createNext(e))}},{key:"_error",value:function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(d.P.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){for(var t=e.source,i=t.queue,n=e.scheduler,o=e.destination;i.length>0&&i[0].time-n.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var r=Math.max(0,i[0].time-n.now());this.schedule(e,r)}else this.unsubscribe(),t.active=!1}}]),r}(l.L),m=a(function e(t,i){o(this,e),this.time=t,this.notification=i}),h=r(88259),v=r.n(h),b=r(10639),A=r(88002),T=r(92340),q=a(function e(t,i,n,r,a,c,u,s){o(this,e),this.nombre=t,this.lugar=i,this.fecha=n,this.jornada=r,this.organizador=a,this.horario=c,this._id=u,this.disponibilidad=s}),_=r(91841),C=T.N.base_url,y=(g=function(){function e(t){o(this,e),this.http=t}return a(e,[{key:"token",get:function(){return localStorage.getItem("token")||""}},{key:"headers",get:function(){return{headers:{"x-token":this.token}}}},{key:"crearCompeticion",value:function(e){return this.http.post("".concat(C,"/competiciones"),e,this.headers)}},{key:"cargarCompeticiones",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.http.get("".concat(C,"/competiciones?desde=").concat(e),this.headers).pipe((0,A.U)(function(e){var t=e.competiciones.map(function(e){return new q(e.nombre,e.lugar,e.fecha,e.jornada,e.organizador,e.horario,e._id,e.disponibilidad)});return{ok:e.ok,competiciones:t}}))}},{key:"eliminarCompeticion",value:function(e){return this.http.delete("".concat(C,"/competiciones/").concat(e._id),this.headers)}},{key:"actualizarCompeticion",value:function(e){return this.http.put("".concat(C,"/competiciones/").concat(e._id),e,this.headers)}}]),e}(),g.\u0275fac=function(e){return new(e||g)(b.LFG(_.eN))},g.\u0275prov=b.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g),w=r(53078),k=a(function e(t,i,n,r){o(this,e),this.competicion=t,this.juez=i,this.asiste=n,this.id=r}),x=T.N.base_url,M=function(){var e=function(){function e(t){o(this,e),this.http=t}return a(e,[{key:"token",get:function(){return localStorage.getItem("token")||""}},{key:"headers",get:function(){return{headers:{"x-token":this.token}}}},{key:"crearAsistencia",value:function(e){return this.http.post("".concat(x,"/asistencias"),e,this.headers)}},{key:"cargarAsistencias",value:function(e){return this.http.get("".concat(x,"/asistencias/competicion/").concat(e),this.headers).pipe((0,A.U)(function(e){var t=e.asistencias.map(function(e){return new k(e.competicion,e.juez,e.asiste,e.id)});return{ok:e.ok,asistencias:t}}))}},{key:"actualizarAsistencia",value:function(e){return this.http.put("".concat(x,"/asistencias"),e,this.headers)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b.LFG(_.eN))},e.\u0275prov=b.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),U=r(29096),O=r(38583),J=r(45121),z=r(13928),I=r(88598),N=r(4207),P=r(19309),j=r(70667),S=r(33013),E=r(12332);function Y(e,t){1&e&&(b.TgZ(0,"div",19),b.TgZ(1,"div",6),b.TgZ(2,"div",20),b.TgZ(3,"h4",21),b._uU(4,"Cargando"),b.qZA(),b._UZ(5,"i",22),b.TgZ(6,"p",23),b._uU(7,"Por favor espere"),b.qZA(),b.qZA(),b.qZA(),b.qZA())}function Q(e,t){if(1&e){var i=b.EpF();b.TgZ(0,"div",32),b.TgZ(1,"p-button",33),b.NdJ("click",function(){return b.CHM(i),b.oxw(2).abrirModalCrearCompeticion()}),b.qZA(),b.qZA()}}function F(e,t){1&e&&(b.TgZ(0,"th"),b._uU(1,"Asiste"),b.qZA())}function L(e,t){1&e&&(b.TgZ(0,"th",46),b._uU(1,"Acciones"),b.qZA())}function R(e,t){if(1&e&&(b.TgZ(0,"tr"),b.TgZ(1,"th",34),b._uU(2,"Nombre "),b._UZ(3,"p-sortIcon",35),b.qZA(),b.TgZ(4,"th",36),b._uU(5,"Lugar "),b._UZ(6,"p-sortIcon",37),b.qZA(),b.TgZ(7,"th",38),b._uU(8,"Fecha "),b._UZ(9,"p-sortIcon",39),b.qZA(),b.TgZ(10,"th",40),b._uU(11,"Jornada "),b._UZ(12,"p-sortIcon",41),b.qZA(),b.TgZ(13,"th",42),b._uU(14,"Organizador "),b._UZ(15,"p-sortIcon",43),b.qZA(),b.TgZ(16,"th"),b._uU(17,"Disponibilidad"),b.qZA(),b.YNc(18,F,2,0,"th",44),b.YNc(19,L,2,0,"th",45),b.qZA()),2&e){var i=b.oxw(2);b.xp6(18),b.Q6J("ngIf","JUEZ"===i.juezRole),b.xp6(1),b.Q6J("ngIf","SEC"===i.juezRole)}}var B=function(e){return["/asistencias/",e]};function D(e,t){if(1&e&&(b.TgZ(0,"a",51),b._uU(1),b.qZA()),2&e){var i=b.oxw(2).$implicit;b.Q6J("routerLink",b.VKq(2,B,i._id)),b.xp6(1),b.hij(" ",i.disponibilidad.length," ")}}function G(e,t){if(1&e&&(b.TgZ(0,"td",49),b.YNc(1,D,2,4,"a",50),b.qZA()),2&e){var i=b.oxw().$implicit;b.oxw(2);var n=b.MAs(3);b.xp6(1),b.Q6J("ngIf",i.disponibilidad.length>0)("ngIfElse",n)}}function $(e,t){if(1&e){var i=b.EpF();b.TgZ(0,"td",49),b.TgZ(1,"p-checkbox",52),b.NdJ("onChange",function(e){b.CHM(i);var t=b.oxw().$implicit;return b.oxw(2).juezDisponible(e,t)}),b.qZA(),b.qZA()}if(2&e){var n=b.oxw().$implicit,o=b.oxw(2);b.xp6(1),b.Q6J("binary",!0)("ngModel",o.checkDisponibilidadJuez(n))("disabled",o.checkAsistenciaJuez(n))}}function H(e,t){if(1&e&&(b.TgZ(0,"td",49),b._UZ(1,"p-checkbox",53),b.qZA()),2&e){var i=b.oxw().$implicit,n=b.oxw(2);b.xp6(1),b.Q6J("binary",!0)("ngModel",n.checkAsistenciaJuez(i))("disabled",!0)}}function V(e,t){if(1&e){var i=b.EpF();b.TgZ(0,"a",58),b.NdJ("click",function(){b.CHM(i);var e=b.oxw(2).$implicit;return b.oxw(2).eliminarCompeticion(e)}),b._UZ(1,"i",59),b.qZA()}}function X(e,t){if(1&e){var i=b.EpF();b.TgZ(0,"td",54),b.TgZ(1,"a",55),b.NdJ("click",function(){b.CHM(i);var e=b.oxw().$implicit;return b.oxw(2).abrirModalModificarCompeticion(e)}),b._UZ(2,"i",56),b.qZA(),b._uU(3," \xa0\xa0 "),b.YNc(4,V,2,0,"a",57),b.qZA()}if(2&e){var n=b.oxw().$implicit;b.xp6(4),b.Q6J("ngIf",0==n.disponibilidad.length)}}function W(e,t){if(1&e&&(b.TgZ(0,"tr"),b.TgZ(1,"td"),b._uU(2),b.qZA(),b.TgZ(3,"td"),b._uU(4),b.qZA(),b.TgZ(5,"td"),b._uU(6),b.ALo(7,"date"),b.qZA(),b.TgZ(8,"td"),b._uU(9),b.qZA(),b.TgZ(10,"td"),b._uU(11),b.qZA(),b.YNc(12,G,2,2,"td",47),b.YNc(13,$,2,3,"td",47),b.YNc(14,H,2,3,"td",47),b.YNc(15,X,5,1,"td",48),b.qZA()),2&e){var i=t.$implicit,n=b.oxw(2);b.xp6(2),b.Oqu(i.nombre),b.xp6(2),b.Oqu(i.lugar),b.xp6(2),b.Oqu(b.xi3(7,9,i.fecha,"dd/MM/yyyy")),b.xp6(3),b.Oqu(i.jornada),b.xp6(2),b.Oqu(i.organizador),b.xp6(1),b.Q6J("ngIf","SEC"===n.juezRole),b.xp6(1),b.Q6J("ngIf","JUEZ"===n.juezRole),b.xp6(1),b.Q6J("ngIf","JUEZ"===n.juezRole),b.xp6(1),b.Q6J("ngIf","SEC"===n.juezRole)}}var K=function(){return[10,25,50]};function ee(e,t){if(1&e&&(b.TgZ(0,"div",19),b.TgZ(1,"div",6),b.TgZ(2,"div",24),b.TgZ(3,"div",25),b.TgZ(4,"div",4),b.TgZ(5,"div",26),b.TgZ(6,"h4",27),b._uU(7,"Listado de Competiciones"),b.qZA(),b.qZA(),b.YNc(8,Q,2,0,"div",28),b.qZA(),b.TgZ(9,"p-table",29),b.YNc(10,R,20,2,"ng-template",30),b.YNc(11,W,16,12,"ng-template",31),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA()),2&e){var i=b.oxw();b.xp6(8),b.Q6J("ngIf","SEC"===i.juezRole),b.xp6(1),b.Q6J("value",i.competiciones)("paginator",!0)("rows",10)("rowsPerPageOptions",b.DdM(5,K))}}function te(e,t){1&e&&(b.TgZ(0,"span"),b._uU(1,"0"),b.qZA())}var ie=function(){return{width:"1000px",minWidth:"600px"}},ne=function(){var e=function(){function e(t,i,n,r,a){o(this,e),this.competicionService=t,this.juezService=i,this.asistenciaService=n,this.fb=r,this.modalImagenService=a,this.displayModalCrear=!1,this.displayModalActualizar=!1,this.juezRole=this.juezService.role,this.juezId=this.juezService.id,this.competiciones=[],this.desde=0,this.cargando=!0,this.formCompeticiones=this.fb.group({_id:new u.NI(""),nombre:new u.NI("",u.kI.required),lugar:new u.NI("",u.kI.required),fecha:new u.NI(""),jornada:new u.NI(""),organizador:new u.NI(""),horario:new u.NI("")})}return a(e,[{key:"ngOnDestroy",value:function(){this.imgSubs.unsubscribe()}},{key:"ngOnInit",value:function(){var e=this;this.cargarCompeticiones(),this.imgSubs=this.modalImagenService.nuevaImagen.pipe(p(100)).subscribe(function(t){return e.cargarCompeticiones()})}},{key:"cargarCompeticiones",value:function(){var e=this;this.cargando=!0,this.competicionService.cargarCompeticiones(this.desde).subscribe(function(t){var i=t.competiciones;e.competiciones=i,e.cargando=!1})}},{key:"eliminarCompeticion",value:function(e){var t=this;v().fire({title:"\xbfBorrar competicion?",text:"Esta a punto de borrar a ".concat(e.nombre),icon:"question",showCancelButton:!0,confirmButtonText:"Si, borrarla"}).then(function(i){i.value&&t.competicionService.eliminarCompeticion(e).subscribe(function(i){t.cargarCompeticiones(),v().fire("Competicion borrada","".concat(e.nombre," fue eliminada correctamente"),"success")})})}},{key:"crearCompeticion",value:function(){var e=this;this.formCompeticiones.invalid||this.competicionService.crearCompeticion(this.formCompeticiones.value).subscribe(function(t){e.displayModalCrear=!1,t.ok?e.cargarCompeticiones():(console.error(t),v().fire("Error",t.msg,"error"))},function(t){e.displayModalCrear=!1,v().fire("Error",t.error.msg,"error")})}},{key:"actualizarCompeticion",value:function(){var e=this;this.formCompeticiones.invalid||this.competicionService.actualizarCompeticion(this.formCompeticiones.value).subscribe(function(t){e.displayModalActualizar=!1,t.ok?e.cargarCompeticiones():(console.error(t),v().fire("Error",t.msg,"error"))},function(t){e.displayModalActualizar=!1,v().fire("Error",t.error.msg,"error")})}},{key:"abrirModalCrearCompeticion",value:function(){this.formCompeticiones.reset(),this.displayModalCrear=!0}},{key:"abrirModalModificarCompeticion",value:function(e){e.fecha=e.fecha?new Date(e.fecha):null,this.formCompeticiones.patchValue(e),this.displayModalActualizar=!0}},{key:"checkDisponibilidadJuez",value:function(e){var t=this;return((null==e?void 0:e.disponibilidad.filter(function(e){return(null==e?void 0:e.juez)==t.juezService.id}).map(function(e){return null==e?void 0:e.juez}))||[]).includes(this.juezService.id)}},{key:"checkAsistenciaJuez",value:function(e){var t=this,i=(null==e?void 0:e.disponibilidad.filter(function(e){return(null==e?void 0:e.juez)==t.juezService.id}))||[];return!!i[0]&&i[0].asiste}},{key:"juezDisponible",value:function(e,t){var i=this;this.asistenciaService.crearAsistencia({disponible:e.checked,competicion:t._id,juez:this.juezService.id}).subscribe(function(e){e.ok?i.cargarCompeticiones():(console.error(e),v().fire("Error",e.msg,"error"))},function(e){i.displayModalCrear=!1,v().fire("Error",e.error.msg,"error")})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b.Y36(y),b.Y36(w.E),b.Y36(M),b.Y36(u.qu),b.Y36(U.$))},e.\u0275cmp=b.Xpm({type:e,selectors:[["app-competiciones"]],decls:88,vars:32,consts:[["class","row animated fadeIn fast",4,"ngIf"],["ceroDisponibilidad",""],["header","A\xf1adir Competicion",3,"visible","modal","minY","maximizable","baseZIndex","visibleChange"],[3,"formGroup","ngSubmit"],[1,"grid"],[1,"col-2"],[1,"col-12"],["type","text","pInputText","","formControlName","nombre",1,"w100"],[1,"col-5"],["type","text","pInputText","","formControlName","lugar",1,"w100"],["appendTo","body","yearRange","2020:2030","dateFormat","dd/mm/yy","showButtonBar","true","formControlName","fecha",3,"firstDayOfWeek","showIcon","locale","monthNavigator","yearNavigator"],[1,"col-4"],["type","text","pInputText","","formControlName","jornada",1,"w100"],[1,"col-3"],["type","text","pInputText","","formControlName","organizador",1,"w100"],[1,"col-12","text-right"],["type","submit","pButton","","pRipple","","icon","fas fa-save","label","Guardar",1,"p-button-success",3,"disabled"],["type","button","pButton","","pRipple","","icon","fas fa-arrow-left","label","Volver",1,"p-button-secondary",3,"click"],["header","Actualizar Competicion",3,"visible","modal","minY","maximizable","baseZIndex","visibleChange"],[1,"row","animated","fadeIn","fast"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"card"],[1,"card-body"],[1,"col-10"],[1,"card-title"],["class","col-2 text-right",4,"ngIf"],["styleClass","p-datatable-striped",3,"value","paginator","rows","rowsPerPageOptions"],["pTemplate","header"],["pTemplate","body"],[1,"col-2","text-right"],["label","A\xf1adir Competicion",3,"click"],["pSortableColumn","nombre"],["field","nombre"],["pSortableColumn","lugar"],["field","lugar"],["pSortableColumn","fecha"],["field","fecha"],["pSortableColumn","jornada"],["field","jornada"],["pSortableColumn","organizador"],["field","organizador"],[4,"ngIf"],["class","text-nowrap w100",4,"ngIf"],[1,"text-nowrap","w100"],["class","text-center",4,"ngIf"],["class","text-nowrap text-center",4,"ngIf"],[1,"text-center"],[3,"routerLink",4,"ngIf","ngIfElse"],[3,"routerLink"],[3,"binary","ngModel","disabled","onChange"],[3,"binary","ngModel","disabled"],[1,"text-nowrap","text-center"],["data-toggle","tooltip","data-original-title","Editar",1,"cursor",3,"click"],[1,"fas","fa-edit"],["data-toggle","tooltip","data-original-title","Borrar","class","cursor",3,"click",4,"ngIf"],["data-toggle","tooltip","data-original-title","Borrar",1,"cursor",3,"click"],[1,"fa","fa-close","text-danger"]],template:function(e,t){1&e&&(b.YNc(0,Y,8,0,"div",0),b.YNc(1,ee,12,6,"div",0),b.YNc(2,te,2,0,"ng-template",null,1,b.W1O),b.TgZ(4,"p-dialog",2),b.NdJ("visibleChange",function(e){return t.displayModalCrear=e}),b.TgZ(5,"form",3),b.NdJ("ngSubmit",function(){return t.crearCompeticion()}),b.TgZ(6,"div",4),b.TgZ(7,"div",5),b.TgZ(8,"div",4),b.TgZ(9,"div",6),b.TgZ(10,"b"),b._uU(11,"Nombre:*"),b.qZA(),b.qZA(),b.TgZ(12,"div",6),b._UZ(13,"input",7),b.qZA(),b.qZA(),b.qZA(),b.TgZ(14,"div",8),b.TgZ(15,"div",4),b.TgZ(16,"div",6),b.TgZ(17,"b"),b._uU(18,"Lugar:*"),b.qZA(),b.qZA(),b.TgZ(19,"div",6),b._UZ(20,"input",9),b.qZA(),b.qZA(),b.qZA(),b.TgZ(21,"div",8),b.TgZ(22,"div",4),b.TgZ(23,"div",6),b.TgZ(24,"b"),b._uU(25,"Fecha:"),b.qZA(),b.qZA(),b.TgZ(26,"div",6),b._UZ(27,"p-calendar",10),b.qZA(),b.qZA(),b.qZA(),b.TgZ(28,"div",11),b.TgZ(29,"div",4),b.TgZ(30,"div",6),b.TgZ(31,"b"),b._uU(32,"Jornada"),b.qZA(),b.qZA(),b.TgZ(33,"div",6),b._UZ(34,"input",12),b.qZA(),b.qZA(),b.qZA(),b.TgZ(35,"div",13),b.TgZ(36,"div",4),b.TgZ(37,"div",6),b.TgZ(38,"b"),b._uU(39,"Organizador"),b.qZA(),b.qZA(),b.TgZ(40,"div",6),b._UZ(41,"input",14),b.qZA(),b.qZA(),b.qZA(),b.TgZ(42,"div",15),b._UZ(43,"button",16),b._uU(44," \xa0 "),b.TgZ(45,"button",17),b.NdJ("click",function(){return t.displayModalCrear=!1}),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(46,"p-dialog",18),b.NdJ("visibleChange",function(e){return t.displayModalActualizar=e}),b.TgZ(47,"form",3),b.NdJ("ngSubmit",function(){return t.actualizarCompeticion()}),b.TgZ(48,"div",4),b.TgZ(49,"div",5),b.TgZ(50,"div",4),b.TgZ(51,"div",6),b.TgZ(52,"b"),b._uU(53,"Nombre:*"),b.qZA(),b.qZA(),b.TgZ(54,"div",6),b._UZ(55,"input",7),b.qZA(),b.qZA(),b.qZA(),b.TgZ(56,"div",8),b.TgZ(57,"div",4),b.TgZ(58,"div",6),b.TgZ(59,"b"),b._uU(60,"Lugar:*"),b.qZA(),b.qZA(),b.TgZ(61,"div",6),b._UZ(62,"input",9),b.qZA(),b.qZA(),b.qZA(),b.TgZ(63,"div",8),b.TgZ(64,"div",4),b.TgZ(65,"div",6),b.TgZ(66,"b"),b._uU(67,"Fecha:"),b.qZA(),b.qZA(),b.TgZ(68,"div",6),b._UZ(69,"p-calendar",10),b.qZA(),b.qZA(),b.qZA(),b.TgZ(70,"div",11),b.TgZ(71,"div",4),b.TgZ(72,"div",6),b.TgZ(73,"b"),b._uU(74,"Jornada"),b.qZA(),b.qZA(),b.TgZ(75,"div",6),b._UZ(76,"input",12),b.qZA(),b.qZA(),b.qZA(),b.TgZ(77,"div",13),b.TgZ(78,"div",4),b.TgZ(79,"div",6),b.TgZ(80,"b"),b._uU(81,"Organizador"),b.qZA(),b.qZA(),b.TgZ(82,"div",6),b._UZ(83,"input",14),b.qZA(),b.qZA(),b.qZA(),b.TgZ(84,"div",15),b._UZ(85,"button",16),b._uU(86," \xa0 "),b.TgZ(87,"button",17),b.NdJ("click",function(){return t.displayModalActualizar=!1}),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA()),2&e&&(b.Q6J("ngIf",t.cargando),b.xp6(1),b.Q6J("ngIf",!t.cargando),b.xp6(3),b.Akn(b.DdM(30,ie)),b.Q6J("visible",t.displayModalCrear)("modal",!0)("minY",70)("maximizable",!0)("baseZIndex",1e4),b.xp6(1),b.Q6J("formGroup",t.formCompeticiones),b.xp6(22),b.Q6J("firstDayOfWeek",1)("showIcon",!0)("locale",t.locale)("monthNavigator",!0)("yearNavigator",!0),b.xp6(16),b.Q6J("disabled",!t.formCompeticiones.valid),b.xp6(3),b.Akn(b.DdM(31,ie)),b.Q6J("visible",t.displayModalActualizar)("modal",!0)("minY",70)("maximizable",!0)("baseZIndex",1e4),b.xp6(1),b.Q6J("formGroup",t.formCompeticiones),b.xp6(22),b.Q6J("firstDayOfWeek",1)("showIcon",!0)("locale",t.locale)("monthNavigator",!0)("yearNavigator",!0),b.xp6(16),b.Q6J("disabled",!t.formCompeticiones.valid))},directives:[O.O5,J.V,u._Y,u.JL,u.sg,u.Fj,z.o,u.JJ,u.u,I.f,N.Hq,P.H,j.iA,S.jx,N.zx,j.lQ,j.fz,c.yS,E.XZ,u.On],pipes:[O.uU],styles:[".p-dropdown[_ngcontent-%COMP%]{width:100%}.p-inputtext[_ngcontent-%COMP%]{width:100%}.p-fluid[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{width:100%}.p-tree[_ngcontent-%COMP%]   .p-tree-filter-container[_ngcontent-%COMP%]   .p-tree-filter[_ngcontent-%COMP%]{width:100%}.p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%]{width:100%}.p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%] > .p-menuitem[_ngcontent-%COMP%]{width:100%}.p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]{width:100%}.p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%]   .p-menuitem[_ngcontent-%COMP%]{width:100%}.p-steps[_ngcontent-%COMP%]   .p-steps-item[_ngcontent-%COMP%]:before{width:100%}.p-disabled[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:visible;cursor:not-allowed!important;opacity:.6}.p-dropdown.p-component.p-disabled[_ngcontent-%COMP%]{cursor:not-allowed!important;opacity:.6}.p-component.p-radiobutton-disabled[_ngcontent-%COMP%]{cursor:not-allowed!important;opacity:.6}.p-component[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;opacity:.6}p-checkbox[_ngcontent-%COMP%]   .p-checkbox-disabled[_ngcontent-%COMP%]{cursor:not-allowed!important;opacity:.6}"]}),e}(),oe=function(){var e=function(){function e(t,i){o(this,e),this.juezService=t,this.router=i}return a(e,[{key:"canActivate",value:function(e,t){return"ADMIN"===this.juezService.role||(this.router.navigateByUrl("/competiciones"),!1)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b.LFG(w.E),b.LFG(c.F0))},e.\u0275prov=b.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),re=function(){var e=function(){function e(t,i){o(this,e),this.juezService=t,this.router=i}return a(e,[{key:"canActivate",value:function(e,t){return!!["SEC","JUEZ"].includes(this.juezService.role)||(this.router.navigateByUrl("/jueces"),!1)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b.LFG(w.E),b.LFG(c.F0))},e.\u0275prov=b.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),ae=function(){var e=function(){function e(t,i){o(this,e),this.juezService=t,this.router=i}return a(e,[{key:"canActivate",value:function(e,t){return"SEC"===this.juezService.role||(this.router.navigateByUrl("/jueces"),!1)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b.LFG(w.E),b.LFG(c.F0))},e.\u0275prov=b.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),ce=r(70452),ue=function(){var e=function(){function e(t){o(this,e),this.settingsService=t}return a(e,[{key:"ngOnInit",value:function(){this.settingsService.checkCurrentTheme()}},{key:"changeTheme",value:function(e){this.settingsService.changeTheme(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b.Y36(ce.g))},e.\u0275cmp=b.Xpm({type:e,selectors:[["app-account-settings"]],decls:50,vars:0,consts:[[1,"row"],[1,"col-4"],[1,"card"],[1,"card-body"],[1,"r-panel-body"],["id","themecolors",1,"m-t-20"],["data-theme","default",1,"selector","default-theme","working",3,"click"],["data-theme","green",1,"selector","green-theme",3,"click"],["data-theme","red",1,"selector","red-theme",3,"click"],["data-theme","blue",1,"selector","blue-theme",3,"click"],["data-theme","purple",1,"selector","purple-theme",3,"click"],["data-theme","megna",1,"selector","megna-theme",3,"click"],[1,"d-block","m-t-30"],["data-theme","default-dark",1,"selector","default-dark-theme",3,"click"],["data-theme","green-dark",1,"selector","green-dark-theme",3,"click"],["data-theme","red-dark",1,"selector","red-dark-theme",3,"click"],["data-theme","blue-dark",1,"selector","blue-dark-theme",3,"click"],["data-theme","purple-dark",1,"selector","purple-dark-theme",3,"click"],["data-theme","megna-dark",1,"selector","megna-dark-theme",3,"click"]],template:function(e,t){1&e&&(b.TgZ(0,"div",0),b.TgZ(1,"div",1),b.TgZ(2,"div",2),b.TgZ(3,"div",3),b.TgZ(4,"h4"),b._uU(5,"Seleccione el tema"),b.qZA(),b.TgZ(6,"div",4),b.TgZ(7,"ul",5),b.TgZ(8,"li"),b.TgZ(9,"b"),b._uU(10,"Con el sidebar claro"),b.qZA(),b.qZA(),b.TgZ(11,"li"),b.TgZ(12,"a",6),b.NdJ("click",function(){return t.changeTheme("default")}),b._uU(13,"1"),b.qZA(),b.qZA(),b.TgZ(14,"li"),b.TgZ(15,"a",7),b.NdJ("click",function(){return t.changeTheme("green")}),b._uU(16,"2"),b.qZA(),b.qZA(),b.TgZ(17,"li"),b.TgZ(18,"a",8),b.NdJ("click",function(){return t.changeTheme("red")}),b._uU(19,"3"),b.qZA(),b.qZA(),b.TgZ(20,"li"),b.TgZ(21,"a",9),b.NdJ("click",function(){return t.changeTheme("blue")}),b._uU(22,"4"),b.qZA(),b.qZA(),b.TgZ(23,"li"),b.TgZ(24,"a",10),b.NdJ("click",function(){return t.changeTheme("purple")}),b._uU(25,"5"),b.qZA(),b.qZA(),b.TgZ(26,"li"),b.TgZ(27,"a",11),b.NdJ("click",function(){return t.changeTheme("megna")}),b._uU(28,"6"),b.qZA(),b.qZA(),b.TgZ(29,"li",12),b.TgZ(30,"b"),b._uU(31,"Con el sidebar oscuro"),b.qZA(),b.qZA(),b.TgZ(32,"li"),b.TgZ(33,"a",13),b.NdJ("click",function(){return t.changeTheme("default-dark")}),b._uU(34,"7"),b.qZA(),b.qZA(),b.TgZ(35,"li"),b.TgZ(36,"a",14),b.NdJ("click",function(){return t.changeTheme("green-dark")}),b._uU(37,"8"),b.qZA(),b.qZA(),b.TgZ(38,"li"),b.TgZ(39,"a",15),b.NdJ("click",function(){return t.changeTheme("red-dark")}),b._uU(40,"9"),b.qZA(),b.qZA(),b.TgZ(41,"li"),b.TgZ(42,"a",16),b.NdJ("click",function(){return t.changeTheme("blue-dark")}),b._uU(43,"10"),b.qZA(),b.qZA(),b.TgZ(44,"li"),b.TgZ(45,"a",17),b.NdJ("click",function(){return t.changeTheme("purple-dark")}),b._uU(46,"11"),b.qZA(),b.qZA(),b.TgZ(47,"li"),b.TgZ(48,"a",18),b.NdJ("click",function(){return t.changeTheme("megna-dark")}),b._uU(49,"12"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA())},encapsulation:2}),e}(),se=r(50103);function le(e,t){1&e&&(b.TgZ(0,"div",20),b.TgZ(1,"div",5),b.TgZ(2,"div",21),b.TgZ(3,"h4",22),b._uU(4,"Cargando"),b.qZA(),b._UZ(5,"i",23),b.TgZ(6,"p",24),b._uU(7,"Por favor espere"),b.qZA(),b.qZA(),b.qZA(),b.qZA())}function de(e,t){1&e&&(b.TgZ(0,"tr"),b.TgZ(1,"th",34),b._uU(2,"Foto"),b.qZA(),b.TgZ(3,"th",35),b._uU(4,"Nombre "),b._UZ(5,"p-sortIcon",36),b.qZA(),b.TgZ(6,"th",37),b._uU(7,"Primer apellido "),b._UZ(8,"p-sortIcon",38),b.qZA(),b.TgZ(9,"th",39),b._uU(10,"Segundo apellido "),b._UZ(11,"p-sortIcon",40),b.qZA(),b.TgZ(12,"th",41),b._uU(13,"Email "),b._UZ(14,"p-sortIcon",42),b.qZA(),b.TgZ(15,"th",43),b._uU(16,"Role "),b._UZ(17,"p-sortIcon",44),b.qZA(),b.TgZ(18,"th",45),b._uU(19,"Acciones"),b.qZA(),b.qZA())}function pe(e,t){if(1&e){var i=b.EpF();b.TgZ(0,"tr"),b.TgZ(1,"td",46),b.TgZ(2,"img",47),b.NdJ("click",function(){var e=b.CHM(i).$implicit;return b.oxw(2).abrirModal(e)}),b.qZA(),b.qZA(),b.TgZ(3,"td"),b._uU(4),b.qZA(),b.TgZ(5,"td"),b._uU(6),b.qZA(),b.TgZ(7,"td"),b._uU(8),b.qZA(),b.TgZ(9,"td"),b._uU(10),b.qZA(),b.TgZ(11,"td"),b.TgZ(12,"p-dropdown",48),b.NdJ("ngModelChange",function(e){return b.CHM(i).$implicit.role=e})("onChange",function(){var e=b.CHM(i).$implicit;return b.oxw(2).cambiarRole(e)}),b.qZA(),b.qZA(),b.TgZ(13,"td",49),b.TgZ(14,"a",50),b.NdJ("click",function(){var e=b.CHM(i).$implicit;return b.oxw(2).eliminarJuez(e)}),b._UZ(15,"i",51),b.qZA(),b.qZA(),b.qZA()}if(2&e){var n=t.$implicit,o=b.oxw(2);b.xp6(2),b.Q6J("src",n.fotoUrl,b.LSH),b.xp6(2),b.hij("",n.nombre," "),b.xp6(2),b.Oqu(n.primerApellido),b.xp6(2),b.Oqu(n.segundoApellido),b.xp6(2),b.Oqu(n.email),b.xp6(2),b.Q6J("options",o.comboOptions)("ngModel",n.role)}}var ge=function(){return[10,25,50]};function Ze(e,t){if(1&e){var i=b.EpF();b.TgZ(0,"div",20),b.TgZ(1,"div",5),b.TgZ(2,"div",25),b.TgZ(3,"div",26),b.TgZ(4,"div",3),b.TgZ(5,"div",27),b.TgZ(6,"h4",28),b._uU(7,"Listado de Jueces registrados"),b.qZA(),b.qZA(),b.TgZ(8,"div",29),b.TgZ(9,"p-button",30),b.NdJ("click",function(){return b.CHM(i),b.oxw().abrirModalCrearJuez()}),b.qZA(),b.qZA(),b.qZA(),b.TgZ(10,"p-table",31),b.YNc(11,de,20,0,"ng-template",32),b.YNc(12,pe,16,7,"ng-template",33),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA()}if(2&e){var n=b.oxw();b.xp6(10),b.Q6J("value",n.jueces)("paginator",!0)("rows",10)("rowsPerPageOptions",b.DdM(4,ge))}}var fe=function(){return{width:"1000px",minWidth:"600px"}},me=function(){var e=function(){function e(t,i,n){o(this,e),this.juezService=t,this.fb=i,this.modalImagenService=n,this.displayModalCrear=!1,this.comboOptions=[{id:"JUEZ",value:"Juez"},{id:"SEC",value:"Secretario"}],this.totalJueces=0,this.jueces=[],this.juezsTemp=[],this.desde=0,this.cargando=!0,this.formJueces=this.fb.group({nombre:new u.NI("",u.kI.required),primerApellido:new u.NI("",u.kI.required),email:new u.NI("",[u.kI.required,u.kI.email]),segundoApellido:new u.NI(""),password:new u.NI("",u.kI.required),passwordMatch:new u.NI("",u.kI.required),role:new u.NI("",u.kI.required),foto:new u.NI("")},{validators:this.passwordsIguales("password","passwordMatch")})}return a(e,[{key:"ngOnDestroy",value:function(){this.imgSubs.unsubscribe()}},{key:"ngOnInit",value:function(){var e=this;this.cargarJueces(),this.imgSubs=this.modalImagenService.nuevaImagen.pipe(p(100)).subscribe(function(t){return e.cargarJueces()})}},{key:"cargarJueces",value:function(){var e=this;this.cargando=!0,this.juezService.cargarJueces(this.desde).subscribe(function(t){var i=t.total,n=t.jueces;e.totalJueces=i,e.jueces=n,e.juezsTemp=n,e.cargando=!1})}},{key:"eliminarJuez",value:function(e){var t=this;if(e.id===this.juezService.id)return v().fire("Error","No puede borrarse a si mismo","error");v().fire({title:"\xbfBorrar juez?",text:"Esta a punto de borrar a ".concat(e.nombre),icon:"question",showCancelButton:!0,confirmButtonText:"Si, borrarlo"}).then(function(i){i.value&&t.juezService.eliminarJuez(e).subscribe(function(i){t.cargarJueces(),v().fire("Juez borrado","".concat(e.nombre," fue eliminado correctamente"),"success")})})}},{key:"cambiarRole",value:function(e){this.juezService.guardarJuez(e).subscribe(function(e){console.log(e)})}},{key:"crearJuez",value:function(){var e=this;this.formJueces.invalid||(this.juezService.crearJuez(this.formJueces.value).subscribe(function(t){e.displayModalCrear=!1,t.ok?e.cargarJueces():(console.error(t),v().fire("Error",t.msg,"error"))},function(t){e.displayModalCrear=!1,v().fire("Error",t.error.msg,"error")}),console.log(this.formJueces.value))}},{key:"abrirModal",value:function(e){this.modalImagenService.abrirModal("jueces",e.id,e.foto)}},{key:"abrirModalCrearJuez",value:function(){this.formJueces.reset(),this.displayModalCrear=!0}},{key:"passwordsIguales",value:function(e,t){return function(i){var n=i.get(e),o=i.get(t);o.setErrors(n.value===o.value?null:{noEsIgual:!0})}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b.Y36(w.E),b.Y36(u.qu),b.Y36(U.$))},e.\u0275cmp=b.Xpm({type:e,selectors:[["app-jueces"]],decls:65,vars:13,consts:[["class","row animated fadeIn fast",4,"ngIf"],["header","A\xf1adir Juez",3,"visible","modal","minY","maximizable","baseZIndex","visibleChange"],[3,"formGroup","ngSubmit"],[1,"grid"],[1,"col-2"],[1,"col-12"],["type","text","pInputText","","formControlName","nombre",1,"w100"],[1,"col-5"],["type","text","pInputText","","formControlName","primerApellido",1,"w100"],["type","text","pInputText","","formControlName","segundoApellido",1,"w100"],["formControlName","role","optionLabel","value","optionValue","id",3,"options"],[1,"col-4"],["type","email","pInputText","","formControlName","email",1,"w100"],[1,"col-3"],["type","password","pInputText","","formControlName","password",1,"w100"],["type","password","pInputText","","formControlName","passwordMatch",1,"w100"],["type","text","pInputText","","formControlName","foto",1,"w100"],[1,"col-12","text-right"],["type","submit","pButton","","pRipple","","icon","fas fa-save","label","Guardar",1,"p-button-success",3,"disabled"],["type","button","pButton","","pRipple","","icon","fas fa-arrow-left","label","Volver",1,"p-button-secondary",3,"click"],[1,"row","animated","fadeIn","fast"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"card"],[1,"card-body"],[1,"col-10"],[1,"card-title"],[1,"col-2","text-right"],["label","A\xf1adir juez",3,"click"],["styleClass","p-datatable-striped","sortMode","single",3,"value","paginator","rows","rowsPerPageOptions"],["pTemplate","header"],["pTemplate","body"],[1,"w100"],["pSortableColumn","nombre"],["field","nombre"],["pSortableColumn","primerApellido"],["field","primerApellido"],["pSortableColumn","segundoApellido"],["field","segundoApellido"],["pSortableColumn","email"],["field","email"],["pSortableColumn","role"],["field","role"],[1,"text-nowrap","w100"],[1,"text-center"],["alt","Foto juez",1,"avatar","cursor",3,"src","click"],["optionLabel","value","optionValue","id",3,"options","ngModel","ngModelChange","onChange"],[1,"text-nowrap","text-center"],["data-toggle","tooltip","data-original-title","Borrar",1,"cursor",3,"click"],[1,"fa","fa-close","text-danger"]],template:function(e,t){1&e&&(b.YNc(0,le,8,0,"div",0),b.YNc(1,Ze,13,5,"div",0),b.TgZ(2,"p-dialog",1),b.NdJ("visibleChange",function(e){return t.displayModalCrear=e}),b.TgZ(3,"form",2),b.NdJ("ngSubmit",function(){return t.crearJuez()}),b.TgZ(4,"div",3),b.TgZ(5,"div",4),b.TgZ(6,"div",3),b.TgZ(7,"div",5),b.TgZ(8,"b"),b._uU(9,"Nombre:*"),b.qZA(),b.qZA(),b.TgZ(10,"div",5),b._UZ(11,"input",6),b.qZA(),b.qZA(),b.qZA(),b.TgZ(12,"div",7),b.TgZ(13,"div",3),b.TgZ(14,"div",5),b.TgZ(15,"b"),b._uU(16,"Primer apellido:*"),b.qZA(),b.qZA(),b.TgZ(17,"div",5),b._UZ(18,"input",8),b.qZA(),b.qZA(),b.qZA(),b.TgZ(19,"div",7),b.TgZ(20,"div",3),b.TgZ(21,"div",5),b.TgZ(22,"b"),b._uU(23,"Segundo apellido:"),b.qZA(),b.qZA(),b.TgZ(24,"div",5),b._UZ(25,"input",9),b.qZA(),b.qZA(),b.qZA(),b.TgZ(26,"div",4),b.TgZ(27,"div",3),b.TgZ(28,"div",5),b.TgZ(29,"b"),b._uU(30,"Role:*"),b.qZA(),b.qZA(),b.TgZ(31,"div",5),b._UZ(32,"p-dropdown",10),b.qZA(),b.qZA(),b.qZA(),b.TgZ(33,"div",11),b.TgZ(34,"div",3),b.TgZ(35,"div",5),b.TgZ(36,"b"),b._uU(37,"Email:*"),b.qZA(),b.qZA(),b.TgZ(38,"div",5),b._UZ(39,"input",12),b.qZA(),b.qZA(),b.qZA(),b.TgZ(40,"div",13),b.TgZ(41,"div",3),b.TgZ(42,"div",5),b.TgZ(43,"b"),b._uU(44,"Contrase\xf1a:*"),b.qZA(),b.qZA(),b.TgZ(45,"div",5),b._UZ(46,"input",14),b.qZA(),b.qZA(),b.qZA(),b.TgZ(47,"div",13),b.TgZ(48,"div",3),b.TgZ(49,"div",5),b.TgZ(50,"b"),b._uU(51,"Confirmar Contrase\xf1a:*"),b.qZA(),b.qZA(),b.TgZ(52,"div",5),b._UZ(53,"input",15),b.qZA(),b.qZA(),b.qZA(),b.TgZ(54,"div",4),b.TgZ(55,"div",3),b.TgZ(56,"div",5),b.TgZ(57,"b"),b._uU(58,"Foto:"),b.qZA(),b.qZA(),b.TgZ(59,"div",5),b._UZ(60,"input",16),b.qZA(),b.qZA(),b.qZA(),b.TgZ(61,"div",17),b._UZ(62,"button",18),b._uU(63," \xa0 "),b.TgZ(64,"button",19),b.NdJ("click",function(){return t.displayModalCrear=!1}),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA()),2&e&&(b.Q6J("ngIf",t.cargando),b.xp6(1),b.Q6J("ngIf",!t.cargando),b.xp6(1),b.Akn(b.DdM(12,fe)),b.Q6J("visible",t.displayModalCrear)("modal",!0)("minY",70)("maximizable",!0)("baseZIndex",1e4),b.xp6(1),b.Q6J("formGroup",t.formJueces),b.xp6(29),b.Q6J("options",t.comboOptions),b.xp6(30),b.Q6J("disabled",!t.formJueces.valid))},directives:[O.O5,J.V,u._Y,u.JL,u.sg,u.Fj,z.o,u.JJ,u.u,se.Lt,N.Hq,P.H,N.zx,j.iA,S.jx,j.lQ,j.fz,u.On],styles:[".p-dropdown[_ngcontent-%COMP%]{width:100%}.p-inputtext[_ngcontent-%COMP%]{width:100%}.p-fluid[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{width:100%}.p-tree[_ngcontent-%COMP%]   .p-tree-filter-container[_ngcontent-%COMP%]   .p-tree-filter[_ngcontent-%COMP%]{width:100%}.p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%]{width:100%}.p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%] > .p-menuitem[_ngcontent-%COMP%]{width:100%}.p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]{width:100%}.p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%]   .p-menuitem[_ngcontent-%COMP%]{width:100%}.p-steps[_ngcontent-%COMP%]   .p-steps-item[_ngcontent-%COMP%]:before{width:100%}.p-component[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;opacity:.6}.p-disabled[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:visible;cursor:not-allowed!important;opacity:.6}.p-dropdown.p-component.p-disabled[_ngcontent-%COMP%]{cursor:not-allowed!important;opacity:.6}.p-component.p-radiobutton-disabled[_ngcontent-%COMP%]{cursor:not-allowed!important;opacity:.6}"]}),e}();function he(e,t){1&e&&(b.TgZ(0,"div",1),b.TgZ(1,"div",2),b.TgZ(2,"div",3),b.TgZ(3,"h4",4),b._uU(4,"Cargando"),b.qZA(),b._UZ(5,"i",5),b.TgZ(6,"p",6),b._uU(7,"Por favor espere"),b.qZA(),b.qZA(),b.qZA(),b.qZA())}function ve(e,t){1&e&&(b.TgZ(0,"tr"),b.TgZ(1,"th",15),b._uU(2,"Juez"),b.qZA(),b.TgZ(3,"th",16),b._uU(4,"Competicion"),b.qZA(),b.TgZ(5,"th"),b._uU(6,"Asiste"),b.qZA(),b.qZA())}function be(e,t){if(1&e){var i=b.EpF();b.TgZ(0,"tr"),b.TgZ(1,"td"),b._uU(2),b.qZA(),b.TgZ(3,"td"),b._uU(4),b.ALo(5,"date"),b.qZA(),b.TgZ(6,"td",17),b.TgZ(7,"p-checkbox",18),b.NdJ("onChange",function(e){var t=b.CHM(i).$implicit;return b.oxw(2).actualizarAsistencia(e,t)}),b.qZA(),b.qZA(),b.qZA()}if(2&e){var n=t.$implicit;b.xp6(2),b.lnq(" ",null==n.juez?null:n.juez.primerApellido," ",null==n.juez?null:n.juez.segundoApellido,", ",null==n.juez?null:n.juez.nombre," "),b.xp6(2),b.lnq(" ",n.competicion.nombre," - ",n.competicion.lugar,"- ",b.xi3(5,8,n.competicion.fecha,"dd/MM/yyyy")," "),b.xp6(3),b.Q6J("binary",!0)("ngModel",n.asiste)}}var Ae=function(){return[10,25,50]};function Te(e,t){if(1&e&&(b.TgZ(0,"div",1),b.TgZ(1,"div",2),b.TgZ(2,"div",7),b.TgZ(3,"div",8),b.TgZ(4,"div",9),b.TgZ(5,"div",10),b.TgZ(6,"h4",11),b._uU(7,"Listado jueces disponibles para la competici\xf3n: "),b.qZA(),b.qZA(),b.qZA(),b.TgZ(8,"p-table",12),b.YNc(9,ve,7,0,"ng-template",13),b.YNc(10,be,8,11,"ng-template",14),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA()),2&e){var i=b.oxw();b.xp6(8),b.Q6J("value",i.asistencias)("paginator",!0)("rows",10)("rowsPerPageOptions",b.DdM(4,Ae))}}var qe=function(){var e=function(){function e(t,i){o(this,e),this.asistenciaService=t,this.activatedRoute=i,this.asistencias=[],this.desde=0,this.cargando=!0}return a(e,[{key:"ngOnDestroy",value:function(){}},{key:"ngOnInit",value:function(){var e=this;this.activatedRoute.params.subscribe(function(t){var i=t.idCompeticion;e.idCompeticion=i,e.cargarAsistencias(i)})}},{key:"cargarAsistencias",value:function(e){var t=this;this.cargando=!0,this.asistenciaService.cargarAsistencias(e).subscribe(function(e){var i=e.asistencias;t.asistencias=i,t.cargando=!1})}},{key:"actualizarAsistencia",value:function(e,t){var i=this;this.asistenciaService.actualizarAsistencia({asiste:e.checked,id:t.id}).subscribe(function(e){e.ok?i.cargarAsistencias(i.idCompeticion):(console.error(e),v().fire("Error",e.msg,"error"))},function(e){v().fire("Error",e.error.msg,"error")})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b.Y36(M),b.Y36(c.gz))},e.\u0275cmp=b.Xpm({type:e,selectors:[["app-asistencias"]],decls:2,vars:2,consts:[["class","row animated fadeIn fast",4,"ngIf"],[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"card"],[1,"card-body"],[1,"grid"],[1,"col-10"],[1,"card-title"],["styleClass","p-datatable-striped",3,"value","paginator","rows","rowsPerPageOptions"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","nombre"],["pSortableColumn","lugar"],[1,"text-center"],[3,"binary","ngModel","onChange"]],template:function(e,t){1&e&&(b.YNc(0,he,8,0,"div",0),b.YNc(1,Te,11,5,"div",0)),2&e&&(b.Q6J("ngIf",t.cargando),b.xp6(1),b.Q6J("ngIf",!t.cargando))},directives:[O.O5,j.iA,S.jx,j.lQ,E.XZ,u.JJ,u.On],pipes:[O.uU],styles:[".p-dropdown[_ngcontent-%COMP%]{width:100%}.p-inputtext[_ngcontent-%COMP%]{width:100%}.p-fluid[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{width:100%}.p-tree[_ngcontent-%COMP%]   .p-tree-filter-container[_ngcontent-%COMP%]   .p-tree-filter[_ngcontent-%COMP%]{width:100%}.p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%]{width:100%}.p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%] > .p-menuitem[_ngcontent-%COMP%]{width:100%}.p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]{width:100%}.p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%]   .p-menuitem[_ngcontent-%COMP%]{width:100%}.p-steps[_ngcontent-%COMP%]   .p-steps-item[_ngcontent-%COMP%]:before{width:100%}.p-disabled[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:visible;cursor:not-allowed!important;opacity:.6}.p-dropdown.p-component.p-disabled[_ngcontent-%COMP%]{cursor:not-allowed!important;opacity:.6}.p-component.p-radiobutton-disabled[_ngcontent-%COMP%]{cursor:not-allowed!important;opacity:.6}.p-component[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;opacity:.6}p-checkbox[_ngcontent-%COMP%]   .p-checkbox-disabled[_ngcontent-%COMP%]{cursor:not-allowed!important;opacity:.6}"]}),e}(),_e=r(67096);function Ce(e,t){if(1&e&&b._UZ(0,"img",22),2&e){var i=b.oxw();b.Q6J("src",i.juez.fotoUrl,b.LSH)}}function ye(e,t){if(1&e&&b._UZ(0,"img",22),2&e){var i=b.oxw();b.Q6J("src",i.imgTemp,b.LSH)}}var we=[{path:"competiciones",canActivate:[re],component:ne,data:{titulo:"Competiciones"}},{path:"account-settings",component:ue,data:{titulo:"Ajustes de cuenta"}},{path:"asistencias/:idCompeticion",canActivate:[ae],component:qe,data:{titulo:"Asistencias"}},{path:"jueces",canActivate:[oe],component:me,data:{titulo:"Jueces"}},{path:"perfil",component:function(){var e=function(){function e(t,i,n){o(this,e),this.fb=t,this.juezService=i,this.fileUploadService=n,this.imgTemp=null,this.juez=i.juez}return a(e,[{key:"ngOnInit",value:function(){this.perfilForm=this.fb.group({nombre:[this.juez.nombre,u.kI.required],email:[this.juez.email,[u.kI.required,u.kI.email]]})}},{key:"actualizarPerfil",value:function(){var e=this;this.juezService.actualizarPerfil(this.perfilForm.value).subscribe(function(){var t=e.perfilForm.value,i=t.nombre,n=t.email;e.juez.nombre=i,e.juez.email=n,v().fire("Guardado","Cambios fueron guardados","success")},function(e){v().fire("Error",e.error.msg,"error")})}},{key:"cambiarImagen",value:function(e){var t=this;if(this.imagenSubir=e,!e)return this.imgTemp=null;var i=new FileReader;i.readAsDataURL(e),i.onloadend=function(){t.imgTemp=i.result}}},{key:"subirImagen",value:function(){var e=this;this.fileUploadService.actualizarFoto(this.imagenSubir,"jueces",this.juez.id).then(function(t){e.juez.foto=t,v().fire("Guardado","Imagen de juez actualizada","success")}).catch(function(e){console.log(e),v().fire("Error","No se pudo subir la imagen","error")})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b.Y36(u.qu),b.Y36(w.E),b.Y36(_e.J))},e.\u0275cmp=b.Xpm({type:e,selectors:[["app-perfil"]],decls:42,vars:6,consts:[[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle"],[1,"form","p-t-20",3,"formGroup","submit"],[1,"form-group"],["for","exampleInputuname"],[1,"input-group"],[1,"input-group-addon"],[1,"ti-user"],["type","text","id","exampleInputuname","placeholder","Nombre del juez","formControlName","nombre",1,"form-control"],["for","exampleInputEmail1"],[1,"ti-email"],["type","email","id","exampleInputEmail1","placeholder","Email","formControlName","email",1,"form-control",3,"readOnly"],["type","submit",1,"btn","btn-success","btn-block","waves-effect","waves-light","m-r-10",3,"disabled"],[1,"fa","fa-save"],[1,"text-center"],["class","img-avatar",3,"src",4,"ngIf"],["type","file",3,"change"],["type","button",1,"btn","btn-success","btn-block","waves-effect","waves-light","m-r-10",3,"disabled","click"],[1,"img-avatar",3,"src"]],template:function(e,t){1&e&&(b.TgZ(0,"div",0),b.TgZ(1,"div",1),b.TgZ(2,"div",2),b.TgZ(3,"div",3),b.TgZ(4,"h4",4),b._uU(5,"Mi perfi"),b.qZA(),b.TgZ(6,"h6",5),b._uU(7,"Ajustes"),b.qZA(),b.TgZ(8,"form",6),b.NdJ("submit",function(){return t.actualizarPerfil()}),b.TgZ(9,"div",7),b.TgZ(10,"label",8),b._uU(11,"User Name"),b.qZA(),b.TgZ(12,"div",9),b.TgZ(13,"div",10),b._UZ(14,"i",11),b.qZA(),b._UZ(15,"input",12),b.qZA(),b.qZA(),b.TgZ(16,"div",7),b.TgZ(17,"label",13),b._uU(18,"Email address"),b.qZA(),b.TgZ(19,"div",9),b.TgZ(20,"div",10),b._UZ(21,"i",14),b.qZA(),b._UZ(22,"input",15),b.qZA(),b.qZA(),b.TgZ(23,"button",16),b._UZ(24,"i",17),b._uU(25," Guardar cambios "),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(26,"div",1),b.TgZ(27,"div",2),b.TgZ(28,"div",3),b.TgZ(29,"h4",4),b._uU(30,"Avatar"),b.qZA(),b.TgZ(31,"h6",5),b._uU(32,"Imagen del juez"),b.qZA(),b.TgZ(33,"div",18),b.YNc(34,Ce,1,1,"img",19),b.YNc(35,ye,1,1,"img",19),b.qZA(),b.TgZ(36,"input",20),b.NdJ("change",function(e){return t.cambiarImagen(e.target.files[0])}),b.qZA(),b._UZ(37,"br"),b._UZ(38,"br"),b.TgZ(39,"button",21),b.NdJ("click",function(){return t.subirImagen()}),b._UZ(40,"i",17),b._uU(41," Cambiar imagen "),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA()),2&e&&(b.xp6(8),b.Q6J("formGroup",t.perfilForm),b.xp6(14),b.Q6J("readOnly",t.juez.email),b.xp6(1),b.Q6J("disabled",t.perfilForm.invalid),b.xp6(11),b.Q6J("ngIf",!t.imgTemp),b.xp6(1),b.Q6J("ngIf",t.imgTemp),b.xp6(4),b.Q6J("disabled",!t.imagenSubir))},directives:[u._Y,u.JL,u.sg,u.Fj,u.JJ,u.u,O.O5],encapsulation:2}),e}(),data:{titulo:"Perfil de juez"}},{path:"",redirectTo:"/competiciones",pathMatch:"full"}],ke=function(){var e=a(function e(){o(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=b.oAB({type:e}),e.\u0275inj=b.cJS({imports:[[c.Bz.forChild(we)],c.Bz]}),e}()}}])}();