"use strict";(self.webpackChunkjueces=self.webpackChunkjueces||[]).push([[123],{53123:function(e,t,i){i.r(t),i.d(t,{ChildRoutesModule:function(){return qe}});var o=i(60952),n=i(3679),r=i(33637),a=i(77393),c=i(41593);function s(e,t=r.P){const i=function(e){return e instanceof Date&&!isNaN(+e)}(e)?+e-t.now():Math.abs(e);return e=>e.lift(new d(i,t))}class d{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new l(e,this.delay,this.scheduler))}}class l extends a.L{constructor(e,t,i){super(e),this.delay=t,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,i=t.queue,o=e.scheduler,n=e.destination;for(;i.length>0&&i[0].time-o.now()<=0;)i.shift().notification.observe(n);if(i.length>0){const t=Math.max(0,i[0].time-o.now());this.schedule(e,t)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(l.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,i=new u(t.now()+this.delay,e);this.queue.push(i),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(c.P.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(c.P.createComplete()),this.unsubscribe()}}class u{constructor(e,t){this.time=e,this.notification=t}}var p=i(88259),g=i.n(p),Z=i(10639),m=i(88002),h=i(92340);class f{constructor(e,t,i,o,n,r,a,c){this.nombre=e,this.lugar=t,this.fecha=i,this.jornada=o,this.organizador=n,this.horario=r,this._id=a,this.disponibilidad=c}}var b=i(91841);const A=h.N.base_url;let T=(()=>{class e{constructor(e){this.http=e}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}crearCompeticion(e){return this.http.post(`${A}/competiciones`,e,this.headers)}cargarCompeticiones(e=0){return this.http.get(`${A}/competiciones?desde=${e}`,this.headers).pipe((0,m.U)(e=>{const t=e.competiciones.map(e=>new f(e.nombre,e.lugar,e.fecha,e.jornada,e.organizador,e.horario,e._id,e.disponibilidad));return{ok:e.ok,competiciones:t}}))}eliminarCompeticion(e){return this.http.delete(`${A}/competiciones/${e._id}`,this.headers)}actualizarCompeticion(e){return this.http.put(`${A}/competiciones/${e._id}`,e,this.headers)}}return e.\u0275fac=function(t){return new(t||e)(Z.LFG(b.eN))},e.\u0275prov=Z.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var v=i(53078);class q{constructor(e,t,i,o){this.competicion=e,this.juez=t,this.asiste=i,this.id=o}}const _=h.N.base_url;let C=(()=>{class e{constructor(e){this.http=e}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}crearAsistencia(e){return this.http.post(`${_}/asistencias`,e,this.headers)}cargarAsistencias(e){return this.http.get(`${_}/asistencias/competicion/${e}`,this.headers).pipe((0,m.U)(e=>{const t=e.asistencias.map(e=>new q(e.competicion,e.juez,e.asiste,e.id));return{ok:e.ok,asistencias:t}}))}actualizarAsistencia(e){return this.http.put(`${_}/asistencias`,e,this.headers)}}return e.\u0275fac=function(t){return new(t||e)(Z.LFG(b.eN))},e.\u0275prov=Z.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var w=i(29096),x=i(38583),M=i(45121),U=i(13928),J=i(88598),z=i(4207),k=i(19309),I=i(70667),y=i(33013),O=i(12332);function N(e,t){1&e&&(Z.TgZ(0,"div",19),Z.TgZ(1,"div",6),Z.TgZ(2,"div",20),Z.TgZ(3,"h4",21),Z._uU(4,"Cargando"),Z.qZA(),Z._UZ(5,"i",22),Z.TgZ(6,"p",23),Z._uU(7,"Por favor espere"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA())}function P(e,t){if(1&e){const e=Z.EpF();Z.TgZ(0,"div",32),Z.TgZ(1,"p-button",33),Z.NdJ("click",function(){return Z.CHM(e),Z.oxw(2).abrirModalCrearCompeticion()}),Z.qZA(),Z.qZA()}}function j(e,t){1&e&&(Z.TgZ(0,"th"),Z._uU(1,"Asiste"),Z.qZA())}function S(e,t){1&e&&(Z.TgZ(0,"th",46),Z._uU(1,"Acciones"),Z.qZA())}function Y(e,t){if(1&e&&(Z.TgZ(0,"tr"),Z.TgZ(1,"th",34),Z._uU(2,"Nombre "),Z._UZ(3,"p-sortIcon",35),Z.qZA(),Z.TgZ(4,"th",36),Z._uU(5,"Lugar "),Z._UZ(6,"p-sortIcon",37),Z.qZA(),Z.TgZ(7,"th",38),Z._uU(8,"Fecha "),Z._UZ(9,"p-sortIcon",39),Z.qZA(),Z.TgZ(10,"th",40),Z._uU(11,"Jornada "),Z._UZ(12,"p-sortIcon",41),Z.qZA(),Z.TgZ(13,"th",42),Z._uU(14,"Organizador "),Z._UZ(15,"p-sortIcon",43),Z.qZA(),Z.TgZ(16,"th"),Z._uU(17,"Disponibilidad"),Z.qZA(),Z.YNc(18,j,2,0,"th",44),Z.YNc(19,S,2,0,"th",45),Z.qZA()),2&e){const e=Z.oxw(2);Z.xp6(18),Z.Q6J("ngIf","JUEZ"===e.juezRole),Z.xp6(1),Z.Q6J("ngIf","SEC"===e.juezRole)}}const E=function(e){return["/asistencias/",e]};function Q(e,t){if(1&e&&(Z.TgZ(0,"a",51),Z._uU(1),Z.qZA()),2&e){const e=Z.oxw(2).$implicit;Z.Q6J("routerLink",Z.VKq(2,E,e._id)),Z.xp6(1),Z.hij(" ",e.disponibilidad.length," ")}}function F(e,t){if(1&e&&(Z.TgZ(0,"td",49),Z.YNc(1,Q,2,4,"a",50),Z.qZA()),2&e){const e=Z.oxw().$implicit;Z.oxw(2);const t=Z.MAs(3);Z.xp6(1),Z.Q6J("ngIf",e.disponibilidad.length>0)("ngIfElse",t)}}function $(e,t){if(1&e){const e=Z.EpF();Z.TgZ(0,"td",49),Z.TgZ(1,"p-checkbox",52),Z.NdJ("onChange",function(t){Z.CHM(e);const i=Z.oxw().$implicit;return Z.oxw(2).juezDisponible(t,i)}),Z.qZA(),Z.qZA()}if(2&e){const e=Z.oxw().$implicit,t=Z.oxw(2);Z.xp6(1),Z.Q6J("binary",!0)("ngModel",t.checkDisponibilidadJuez(e))("disabled",t.checkAsistenciaJuez(e))}}function L(e,t){if(1&e&&(Z.TgZ(0,"td",49),Z._UZ(1,"p-checkbox",53),Z.qZA()),2&e){const e=Z.oxw().$implicit,t=Z.oxw(2);Z.xp6(1),Z.Q6J("binary",!0)("ngModel",t.checkAsistenciaJuez(e))("disabled",!0)}}function D(e,t){if(1&e){const e=Z.EpF();Z.TgZ(0,"a",58),Z.NdJ("click",function(){Z.CHM(e);const t=Z.oxw(2).$implicit;return Z.oxw(2).eliminarCompeticion(t)}),Z._UZ(1,"i",59),Z.qZA()}}function R(e,t){if(1&e){const e=Z.EpF();Z.TgZ(0,"td",54),Z.TgZ(1,"a",55),Z.NdJ("click",function(){Z.CHM(e);const t=Z.oxw().$implicit;return Z.oxw(2).abrirModalModificarCompeticion(t)}),Z._UZ(2,"i",56),Z.qZA(),Z._uU(3," \xa0\xa0 "),Z.YNc(4,D,2,0,"a",57),Z.qZA()}if(2&e){const e=Z.oxw().$implicit;Z.xp6(4),Z.Q6J("ngIf",0==e.disponibilidad.length)}}function B(e,t){if(1&e&&(Z.TgZ(0,"tr"),Z.TgZ(1,"td"),Z._uU(2),Z.qZA(),Z.TgZ(3,"td"),Z._uU(4),Z.qZA(),Z.TgZ(5,"td"),Z._uU(6),Z.ALo(7,"date"),Z.qZA(),Z.TgZ(8,"td"),Z._uU(9),Z.qZA(),Z.TgZ(10,"td"),Z._uU(11),Z.qZA(),Z.YNc(12,F,2,2,"td",47),Z.YNc(13,$,2,3,"td",47),Z.YNc(14,L,2,3,"td",47),Z.YNc(15,R,5,1,"td",48),Z.qZA()),2&e){const e=t.$implicit,i=Z.oxw(2);Z.xp6(2),Z.Oqu(e.nombre),Z.xp6(2),Z.Oqu(e.lugar),Z.xp6(2),Z.Oqu(Z.xi3(7,9,e.fecha,"dd/MM/yyyy")),Z.xp6(3),Z.Oqu(e.jornada),Z.xp6(2),Z.Oqu(e.organizador),Z.xp6(1),Z.Q6J("ngIf","SEC"===i.juezRole),Z.xp6(1),Z.Q6J("ngIf","JUEZ"===i.juezRole),Z.xp6(1),Z.Q6J("ngIf","JUEZ"===i.juezRole),Z.xp6(1),Z.Q6J("ngIf","SEC"===i.juezRole)}}const G=function(){return[10,25,50]};function H(e,t){if(1&e&&(Z.TgZ(0,"div",19),Z.TgZ(1,"div",6),Z.TgZ(2,"div",24),Z.TgZ(3,"div",25),Z.TgZ(4,"div",4),Z.TgZ(5,"div",26),Z.TgZ(6,"h4",27),Z._uU(7,"Listado de Competiciones"),Z.qZA(),Z.qZA(),Z.YNc(8,P,2,0,"div",28),Z.qZA(),Z.TgZ(9,"p-table",29),Z.YNc(10,Y,20,2,"ng-template",30),Z.YNc(11,B,16,12,"ng-template",31),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA()),2&e){const e=Z.oxw();Z.xp6(8),Z.Q6J("ngIf","SEC"===e.juezRole),Z.xp6(1),Z.Q6J("value",e.competiciones)("paginator",!0)("rows",10)("rowsPerPageOptions",Z.DdM(5,G))}}function V(e,t){1&e&&(Z.TgZ(0,"span"),Z._uU(1,"0"),Z.qZA())}const X=function(){return{width:"1000px",minWidth:"600px"}};let W=(()=>{class e{constructor(e,t,i,o,r){this.competicionService=e,this.juezService=t,this.asistenciaService=i,this.fb=o,this.modalImagenService=r,this.displayModalCrear=!1,this.displayModalActualizar=!1,this.juezRole=this.juezService.role,this.juezId=this.juezService.id,this.competiciones=[],this.desde=0,this.cargando=!0,this.formCompeticiones=this.fb.group({_id:new n.NI(""),nombre:new n.NI("",n.kI.required),lugar:new n.NI("",n.kI.required),fecha:new n.NI(""),jornada:new n.NI(""),organizador:new n.NI(""),horario:new n.NI("")})}ngOnDestroy(){this.imgSubs.unsubscribe()}ngOnInit(){this.cargarCompeticiones(),this.imgSubs=this.modalImagenService.nuevaImagen.pipe(s(100)).subscribe(e=>this.cargarCompeticiones())}cargarCompeticiones(){this.cargando=!0,this.competicionService.cargarCompeticiones(this.desde).subscribe(({competiciones:e})=>{this.competiciones=e,this.cargando=!1})}eliminarCompeticion(e){g().fire({title:"\xbfBorrar competicion?",text:`Esta a punto de borrar a ${e.nombre}`,icon:"question",showCancelButton:!0,confirmButtonText:"Si, borrarla"}).then(t=>{t.value&&this.competicionService.eliminarCompeticion(e).subscribe(t=>{this.cargarCompeticiones(),g().fire("Competicion borrada",`${e.nombre} fue eliminada correctamente`,"success")})})}crearCompeticion(){this.formCompeticiones.invalid||this.competicionService.crearCompeticion(this.formCompeticiones.value).subscribe(e=>{this.displayModalCrear=!1,e.ok?this.cargarCompeticiones():(console.error(e),g().fire("Error",e.msg,"error"))},e=>{this.displayModalCrear=!1,g().fire("Error",e.error.msg,"error")})}actualizarCompeticion(){this.formCompeticiones.invalid||this.competicionService.actualizarCompeticion(this.formCompeticiones.value).subscribe(e=>{this.displayModalActualizar=!1,e.ok?this.cargarCompeticiones():(console.error(e),g().fire("Error",e.msg,"error"))},e=>{this.displayModalActualizar=!1,g().fire("Error",e.error.msg,"error")})}abrirModalCrearCompeticion(){this.formCompeticiones.reset(),this.displayModalCrear=!0}abrirModalModificarCompeticion(e){e.fecha=e.fecha?new Date(e.fecha):null,this.formCompeticiones.patchValue(e),this.displayModalActualizar=!0}checkDisponibilidadJuez(e){return((null==e?void 0:e.disponibilidad.filter(e=>(null==e?void 0:e.juez)==this.juezService.id).map(e=>null==e?void 0:e.juez))||[]).includes(this.juezService.id)}checkAsistenciaJuez(e){const t=(null==e?void 0:e.disponibilidad.filter(e=>(null==e?void 0:e.juez)==this.juezService.id))||[];return!!t[0]&&t[0].asiste}juezDisponible(e,t){this.asistenciaService.crearAsistencia({disponible:e.checked,competicion:t._id,juez:this.juezService.id}).subscribe(e=>{e.ok?this.cargarCompeticiones():(console.error(e),g().fire("Error",e.msg,"error"))},e=>{this.displayModalCrear=!1,g().fire("Error",e.error.msg,"error")})}}return e.\u0275fac=function(t){return new(t||e)(Z.Y36(T),Z.Y36(v.E),Z.Y36(C),Z.Y36(n.qu),Z.Y36(w.$))},e.\u0275cmp=Z.Xpm({type:e,selectors:[["app-competiciones"]],decls:88,vars:32,consts:[["class","row animated fadeIn fast",4,"ngIf"],["ceroDisponibilidad",""],["header","A\xf1adir Competicion",3,"visible","modal","minY","maximizable","baseZIndex","visibleChange"],[3,"formGroup","ngSubmit"],[1,"grid"],[1,"col-2"],[1,"col-12"],["type","text","pInputText","","formControlName","nombre",1,"w100"],[1,"col-5"],["type","text","pInputText","","formControlName","lugar",1,"w100"],["appendTo","body","yearRange","2020:2030","dateFormat","dd/mm/yy","showButtonBar","true","formControlName","fecha",3,"firstDayOfWeek","showIcon","locale","monthNavigator","yearNavigator"],[1,"col-4"],["type","text","pInputText","","formControlName","jornada",1,"w100"],[1,"col-3"],["type","text","pInputText","","formControlName","organizador",1,"w100"],[1,"col-12","text-right"],["type","submit","pButton","","pRipple","","icon","fas fa-save","label","Guardar",1,"p-button-success",3,"disabled"],["type","button","pButton","","pRipple","","icon","fas fa-arrow-left","label","Volver",1,"p-button-secondary",3,"click"],["header","Actualizar Competicion",3,"visible","modal","minY","maximizable","baseZIndex","visibleChange"],[1,"row","animated","fadeIn","fast"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"card"],[1,"card-body"],[1,"col-10"],[1,"card-title"],["class","col-2 text-right",4,"ngIf"],["styleClass","p-datatable-striped",3,"value","paginator","rows","rowsPerPageOptions"],["pTemplate","header"],["pTemplate","body"],[1,"col-2","text-right"],["label","A\xf1adir Competicion",3,"click"],["pSortableColumn","nombre"],["field","nombre"],["pSortableColumn","lugar"],["field","lugar"],["pSortableColumn","fecha"],["field","fecha"],["pSortableColumn","jornada"],["field","jornada"],["pSortableColumn","organizador"],["field","organizador"],[4,"ngIf"],["class","text-nowrap w100",4,"ngIf"],[1,"text-nowrap","w100"],["class","text-center",4,"ngIf"],["class","text-nowrap text-center",4,"ngIf"],[1,"text-center"],[3,"routerLink",4,"ngIf","ngIfElse"],[3,"routerLink"],[3,"binary","ngModel","disabled","onChange"],[3,"binary","ngModel","disabled"],[1,"text-nowrap","text-center"],["data-toggle","tooltip","data-original-title","Editar",1,"cursor",3,"click"],[1,"fas","fa-edit"],["data-toggle","tooltip","data-original-title","Borrar","class","cursor",3,"click",4,"ngIf"],["data-toggle","tooltip","data-original-title","Borrar",1,"cursor",3,"click"],[1,"fa","fa-close","text-danger"]],template:function(e,t){1&e&&(Z.YNc(0,N,8,0,"div",0),Z.YNc(1,H,12,6,"div",0),Z.YNc(2,V,2,0,"ng-template",null,1,Z.W1O),Z.TgZ(4,"p-dialog",2),Z.NdJ("visibleChange",function(e){return t.displayModalCrear=e}),Z.TgZ(5,"form",3),Z.NdJ("ngSubmit",function(){return t.crearCompeticion()}),Z.TgZ(6,"div",4),Z.TgZ(7,"div",5),Z.TgZ(8,"div",4),Z.TgZ(9,"div",6),Z.TgZ(10,"b"),Z._uU(11,"Nombre:*"),Z.qZA(),Z.qZA(),Z.TgZ(12,"div",6),Z._UZ(13,"input",7),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(14,"div",8),Z.TgZ(15,"div",4),Z.TgZ(16,"div",6),Z.TgZ(17,"b"),Z._uU(18,"Lugar:*"),Z.qZA(),Z.qZA(),Z.TgZ(19,"div",6),Z._UZ(20,"input",9),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(21,"div",8),Z.TgZ(22,"div",4),Z.TgZ(23,"div",6),Z.TgZ(24,"b"),Z._uU(25,"Fecha:"),Z.qZA(),Z.qZA(),Z.TgZ(26,"div",6),Z._UZ(27,"p-calendar",10),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(28,"div",11),Z.TgZ(29,"div",4),Z.TgZ(30,"div",6),Z.TgZ(31,"b"),Z._uU(32,"Jornada"),Z.qZA(),Z.qZA(),Z.TgZ(33,"div",6),Z._UZ(34,"input",12),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(35,"div",13),Z.TgZ(36,"div",4),Z.TgZ(37,"div",6),Z.TgZ(38,"b"),Z._uU(39,"Organizador"),Z.qZA(),Z.qZA(),Z.TgZ(40,"div",6),Z._UZ(41,"input",14),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(42,"div",15),Z._UZ(43,"button",16),Z._uU(44," \xa0 "),Z.TgZ(45,"button",17),Z.NdJ("click",function(){return t.displayModalCrear=!1}),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(46,"p-dialog",18),Z.NdJ("visibleChange",function(e){return t.displayModalActualizar=e}),Z.TgZ(47,"form",3),Z.NdJ("ngSubmit",function(){return t.actualizarCompeticion()}),Z.TgZ(48,"div",4),Z.TgZ(49,"div",5),Z.TgZ(50,"div",4),Z.TgZ(51,"div",6),Z.TgZ(52,"b"),Z._uU(53,"Nombre:*"),Z.qZA(),Z.qZA(),Z.TgZ(54,"div",6),Z._UZ(55,"input",7),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(56,"div",8),Z.TgZ(57,"div",4),Z.TgZ(58,"div",6),Z.TgZ(59,"b"),Z._uU(60,"Lugar:*"),Z.qZA(),Z.qZA(),Z.TgZ(61,"div",6),Z._UZ(62,"input",9),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(63,"div",8),Z.TgZ(64,"div",4),Z.TgZ(65,"div",6),Z.TgZ(66,"b"),Z._uU(67,"Fecha:"),Z.qZA(),Z.qZA(),Z.TgZ(68,"div",6),Z._UZ(69,"p-calendar",10),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(70,"div",11),Z.TgZ(71,"div",4),Z.TgZ(72,"div",6),Z.TgZ(73,"b"),Z._uU(74,"Jornada"),Z.qZA(),Z.qZA(),Z.TgZ(75,"div",6),Z._UZ(76,"input",12),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(77,"div",13),Z.TgZ(78,"div",4),Z.TgZ(79,"div",6),Z.TgZ(80,"b"),Z._uU(81,"Organizador"),Z.qZA(),Z.qZA(),Z.TgZ(82,"div",6),Z._UZ(83,"input",14),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(84,"div",15),Z._UZ(85,"button",16),Z._uU(86," \xa0 "),Z.TgZ(87,"button",17),Z.NdJ("click",function(){return t.displayModalActualizar=!1}),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA()),2&e&&(Z.Q6J("ngIf",t.cargando),Z.xp6(1),Z.Q6J("ngIf",!t.cargando),Z.xp6(3),Z.Akn(Z.DdM(30,X)),Z.Q6J("visible",t.displayModalCrear)("modal",!0)("minY",70)("maximizable",!0)("baseZIndex",1e4),Z.xp6(1),Z.Q6J("formGroup",t.formCompeticiones),Z.xp6(22),Z.Q6J("firstDayOfWeek",1)("showIcon",!0)("locale",t.locale)("monthNavigator",!0)("yearNavigator",!0),Z.xp6(16),Z.Q6J("disabled",!t.formCompeticiones.valid),Z.xp6(3),Z.Akn(Z.DdM(31,X)),Z.Q6J("visible",t.displayModalActualizar)("modal",!0)("minY",70)("maximizable",!0)("baseZIndex",1e4),Z.xp6(1),Z.Q6J("formGroup",t.formCompeticiones),Z.xp6(22),Z.Q6J("firstDayOfWeek",1)("showIcon",!0)("locale",t.locale)("monthNavigator",!0)("yearNavigator",!0),Z.xp6(16),Z.Q6J("disabled",!t.formCompeticiones.valid))},directives:[x.O5,M.V,n._Y,n.JL,n.sg,n.Fj,U.o,n.JJ,n.u,J.f,z.Hq,k.H,I.iA,y.jx,z.zx,I.lQ,I.fz,o.yS,O.XZ,n.On],pipes:[x.uU],styles:[".p-dropdown[_ngcontent-%COMP%]{width:100%}.p-inputtext[_ngcontent-%COMP%]{width:100%}.p-fluid[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{width:100%}.p-tree[_ngcontent-%COMP%]   .p-tree-filter-container[_ngcontent-%COMP%]   .p-tree-filter[_ngcontent-%COMP%]{width:100%}.p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%]{width:100%}.p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%] > .p-menuitem[_ngcontent-%COMP%]{width:100%}.p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]{width:100%}.p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%]   .p-menuitem[_ngcontent-%COMP%]{width:100%}.p-steps[_ngcontent-%COMP%]   .p-steps-item[_ngcontent-%COMP%]:before{width:100%}.p-disabled[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:visible;cursor:not-allowed!important;opacity:.6}.p-dropdown.p-component.p-disabled[_ngcontent-%COMP%]{cursor:not-allowed!important;opacity:.6}.p-component.p-radiobutton-disabled[_ngcontent-%COMP%]{cursor:not-allowed!important;opacity:.6}.p-component[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;opacity:.6}p-checkbox[_ngcontent-%COMP%]   .p-checkbox-disabled[_ngcontent-%COMP%]{cursor:not-allowed!important;opacity:.6}"]}),e})(),K=(()=>{class e{constructor(e,t){this.juezService=e,this.router=t}canActivate(e,t){return"ADMIN"===this.juezService.role||(this.router.navigateByUrl("/competiciones"),!1)}}return e.\u0275fac=function(t){return new(t||e)(Z.LFG(v.E),Z.LFG(o.F0))},e.\u0275prov=Z.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ee=(()=>{class e{constructor(e,t){this.juezService=e,this.router=t}canActivate(e,t){return!!["SEC","JUEZ"].includes(this.juezService.role)||(this.router.navigateByUrl("/jueces"),!1)}}return e.\u0275fac=function(t){return new(t||e)(Z.LFG(v.E),Z.LFG(o.F0))},e.\u0275prov=Z.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),te=(()=>{class e{constructor(e,t){this.juezService=e,this.router=t}canActivate(e,t){return"SEC"===this.juezService.role||(this.router.navigateByUrl("/jueces"),!1)}}return e.\u0275fac=function(t){return new(t||e)(Z.LFG(v.E),Z.LFG(o.F0))},e.\u0275prov=Z.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var ie=i(70452);let oe=(()=>{class e{constructor(e){this.settingsService=e}ngOnInit(){this.settingsService.checkCurrentTheme()}changeTheme(e){this.settingsService.changeTheme(e)}}return e.\u0275fac=function(t){return new(t||e)(Z.Y36(ie.g))},e.\u0275cmp=Z.Xpm({type:e,selectors:[["app-account-settings"]],decls:50,vars:0,consts:[[1,"row"],[1,"col-4"],[1,"card"],[1,"card-body"],[1,"r-panel-body"],["id","themecolors",1,"m-t-20"],["data-theme","default",1,"selector","default-theme","working",3,"click"],["data-theme","green",1,"selector","green-theme",3,"click"],["data-theme","red",1,"selector","red-theme",3,"click"],["data-theme","blue",1,"selector","blue-theme",3,"click"],["data-theme","purple",1,"selector","purple-theme",3,"click"],["data-theme","megna",1,"selector","megna-theme",3,"click"],[1,"d-block","m-t-30"],["data-theme","default-dark",1,"selector","default-dark-theme",3,"click"],["data-theme","green-dark",1,"selector","green-dark-theme",3,"click"],["data-theme","red-dark",1,"selector","red-dark-theme",3,"click"],["data-theme","blue-dark",1,"selector","blue-dark-theme",3,"click"],["data-theme","purple-dark",1,"selector","purple-dark-theme",3,"click"],["data-theme","megna-dark",1,"selector","megna-dark-theme",3,"click"]],template:function(e,t){1&e&&(Z.TgZ(0,"div",0),Z.TgZ(1,"div",1),Z.TgZ(2,"div",2),Z.TgZ(3,"div",3),Z.TgZ(4,"h4"),Z._uU(5,"Seleccione el tema"),Z.qZA(),Z.TgZ(6,"div",4),Z.TgZ(7,"ul",5),Z.TgZ(8,"li"),Z.TgZ(9,"b"),Z._uU(10,"Con el sidebar claro"),Z.qZA(),Z.qZA(),Z.TgZ(11,"li"),Z.TgZ(12,"a",6),Z.NdJ("click",function(){return t.changeTheme("default")}),Z._uU(13,"1"),Z.qZA(),Z.qZA(),Z.TgZ(14,"li"),Z.TgZ(15,"a",7),Z.NdJ("click",function(){return t.changeTheme("green")}),Z._uU(16,"2"),Z.qZA(),Z.qZA(),Z.TgZ(17,"li"),Z.TgZ(18,"a",8),Z.NdJ("click",function(){return t.changeTheme("red")}),Z._uU(19,"3"),Z.qZA(),Z.qZA(),Z.TgZ(20,"li"),Z.TgZ(21,"a",9),Z.NdJ("click",function(){return t.changeTheme("blue")}),Z._uU(22,"4"),Z.qZA(),Z.qZA(),Z.TgZ(23,"li"),Z.TgZ(24,"a",10),Z.NdJ("click",function(){return t.changeTheme("purple")}),Z._uU(25,"5"),Z.qZA(),Z.qZA(),Z.TgZ(26,"li"),Z.TgZ(27,"a",11),Z.NdJ("click",function(){return t.changeTheme("megna")}),Z._uU(28,"6"),Z.qZA(),Z.qZA(),Z.TgZ(29,"li",12),Z.TgZ(30,"b"),Z._uU(31,"Con el sidebar oscuro"),Z.qZA(),Z.qZA(),Z.TgZ(32,"li"),Z.TgZ(33,"a",13),Z.NdJ("click",function(){return t.changeTheme("default-dark")}),Z._uU(34,"7"),Z.qZA(),Z.qZA(),Z.TgZ(35,"li"),Z.TgZ(36,"a",14),Z.NdJ("click",function(){return t.changeTheme("green-dark")}),Z._uU(37,"8"),Z.qZA(),Z.qZA(),Z.TgZ(38,"li"),Z.TgZ(39,"a",15),Z.NdJ("click",function(){return t.changeTheme("red-dark")}),Z._uU(40,"9"),Z.qZA(),Z.qZA(),Z.TgZ(41,"li"),Z.TgZ(42,"a",16),Z.NdJ("click",function(){return t.changeTheme("blue-dark")}),Z._uU(43,"10"),Z.qZA(),Z.qZA(),Z.TgZ(44,"li"),Z.TgZ(45,"a",17),Z.NdJ("click",function(){return t.changeTheme("purple-dark")}),Z._uU(46,"11"),Z.qZA(),Z.qZA(),Z.TgZ(47,"li"),Z.TgZ(48,"a",18),Z.NdJ("click",function(){return t.changeTheme("megna-dark")}),Z._uU(49,"12"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA())},encapsulation:2}),e})();var ne=i(50103);function re(e,t){1&e&&(Z.TgZ(0,"div",20),Z.TgZ(1,"div",5),Z.TgZ(2,"div",21),Z.TgZ(3,"h4",22),Z._uU(4,"Cargando"),Z.qZA(),Z._UZ(5,"i",23),Z.TgZ(6,"p",24),Z._uU(7,"Por favor espere"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA())}function ae(e,t){1&e&&(Z.TgZ(0,"tr"),Z.TgZ(1,"th",34),Z._uU(2,"Foto"),Z.qZA(),Z.TgZ(3,"th",35),Z._uU(4,"Nombre "),Z._UZ(5,"p-sortIcon",36),Z.qZA(),Z.TgZ(6,"th",37),Z._uU(7,"Primer apellido "),Z._UZ(8,"p-sortIcon",38),Z.qZA(),Z.TgZ(9,"th",39),Z._uU(10,"Segundo apellido "),Z._UZ(11,"p-sortIcon",40),Z.qZA(),Z.TgZ(12,"th",41),Z._uU(13,"Email "),Z._UZ(14,"p-sortIcon",42),Z.qZA(),Z.TgZ(15,"th",43),Z._uU(16,"Role "),Z._UZ(17,"p-sortIcon",44),Z.qZA(),Z.TgZ(18,"th",45),Z._uU(19,"Acciones"),Z.qZA(),Z.qZA())}function ce(e,t){if(1&e){const e=Z.EpF();Z.TgZ(0,"tr"),Z.TgZ(1,"td",46),Z.TgZ(2,"img",47),Z.NdJ("click",function(){const t=Z.CHM(e).$implicit;return Z.oxw(2).abrirModal(t)}),Z.qZA(),Z.qZA(),Z.TgZ(3,"td"),Z._uU(4),Z.qZA(),Z.TgZ(5,"td"),Z._uU(6),Z.qZA(),Z.TgZ(7,"td"),Z._uU(8),Z.qZA(),Z.TgZ(9,"td"),Z._uU(10),Z.qZA(),Z.TgZ(11,"td"),Z.TgZ(12,"p-dropdown",48),Z.NdJ("ngModelChange",function(t){return Z.CHM(e).$implicit.role=t})("onChange",function(){const t=Z.CHM(e).$implicit;return Z.oxw(2).cambiarRole(t)}),Z.qZA(),Z.qZA(),Z.TgZ(13,"td",49),Z.TgZ(14,"a",50),Z.NdJ("click",function(){const t=Z.CHM(e).$implicit;return Z.oxw(2).eliminarJuez(t)}),Z._UZ(15,"i",51),Z.qZA(),Z.qZA(),Z.qZA()}if(2&e){const e=t.$implicit,i=Z.oxw(2);Z.xp6(2),Z.Q6J("src",e.fotoUrl,Z.LSH),Z.xp6(2),Z.hij("",e.nombre," "),Z.xp6(2),Z.Oqu(e.primerApellido),Z.xp6(2),Z.Oqu(e.segundoApellido),Z.xp6(2),Z.Oqu(e.email),Z.xp6(2),Z.Q6J("options",i.comboOptions)("ngModel",e.role)}}const se=function(){return[10,25,50]};function de(e,t){if(1&e){const e=Z.EpF();Z.TgZ(0,"div",20),Z.TgZ(1,"div",5),Z.TgZ(2,"div",25),Z.TgZ(3,"div",26),Z.TgZ(4,"div",3),Z.TgZ(5,"div",27),Z.TgZ(6,"h4",28),Z._uU(7,"Listado de Jueces registrados"),Z.qZA(),Z.qZA(),Z.TgZ(8,"div",29),Z.TgZ(9,"p-button",30),Z.NdJ("click",function(){return Z.CHM(e),Z.oxw().abrirModalCrearJuez()}),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(10,"p-table",31),Z.YNc(11,ae,20,0,"ng-template",32),Z.YNc(12,ce,16,7,"ng-template",33),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA()}if(2&e){const e=Z.oxw();Z.xp6(10),Z.Q6J("value",e.jueces)("paginator",!0)("rows",10)("rowsPerPageOptions",Z.DdM(4,se))}}const le=function(){return{width:"1000px",minWidth:"600px"}};let ue=(()=>{class e{constructor(e,t,i){this.juezService=e,this.fb=t,this.modalImagenService=i,this.displayModalCrear=!1,this.comboOptions=[{id:"JUEZ",value:"Juez"},{id:"SEC",value:"Secretario"}],this.totalJueces=0,this.jueces=[],this.juezsTemp=[],this.desde=0,this.cargando=!0,this.formJueces=this.fb.group({nombre:new n.NI("",n.kI.required),primerApellido:new n.NI("",n.kI.required),email:new n.NI("",[n.kI.required,n.kI.email]),segundoApellido:new n.NI(""),password:new n.NI("",n.kI.required),passwordMatch:new n.NI("",n.kI.required),role:new n.NI("",n.kI.required),foto:new n.NI("")},{validators:this.passwordsIguales("password","passwordMatch")})}ngOnDestroy(){this.imgSubs.unsubscribe()}ngOnInit(){this.cargarJueces(),this.imgSubs=this.modalImagenService.nuevaImagen.pipe(s(100)).subscribe(e=>this.cargarJueces())}cargarJueces(){this.cargando=!0,this.juezService.cargarJueces(this.desde).subscribe(({total:e,jueces:t})=>{this.totalJueces=e,this.jueces=t,this.juezsTemp=t,this.cargando=!1})}eliminarJuez(e){if(e.id===this.juezService.id)return g().fire("Error","No puede borrarse a si mismo","error");g().fire({title:"\xbfBorrar juez?",text:`Esta a punto de borrar a ${e.nombre}`,icon:"question",showCancelButton:!0,confirmButtonText:"Si, borrarlo"}).then(t=>{t.value&&this.juezService.eliminarJuez(e).subscribe(t=>{this.cargarJueces(),g().fire("Juez borrado",`${e.nombre} fue eliminado correctamente`,"success")})})}cambiarRole(e){this.juezService.guardarJuez(e).subscribe(e=>{console.log(e)})}crearJuez(){this.formJueces.invalid||(this.juezService.crearJuez(this.formJueces.value).subscribe(e=>{this.displayModalCrear=!1,e.ok?this.cargarJueces():(console.error(e),g().fire("Error",e.msg,"error"))},e=>{this.displayModalCrear=!1,g().fire("Error",e.error.msg,"error")}),console.log(this.formJueces.value))}abrirModal(e){this.modalImagenService.abrirModal("jueces",e.id,e.foto)}abrirModalCrearJuez(){this.formJueces.reset(),this.displayModalCrear=!0}passwordsIguales(e,t){return i=>{const o=i.get(e),n=i.get(t);n.setErrors(o.value===n.value?null:{noEsIgual:!0})}}}return e.\u0275fac=function(t){return new(t||e)(Z.Y36(v.E),Z.Y36(n.qu),Z.Y36(w.$))},e.\u0275cmp=Z.Xpm({type:e,selectors:[["app-jueces"]],decls:65,vars:13,consts:[["class","row animated fadeIn fast",4,"ngIf"],["header","A\xf1adir Juez",3,"visible","modal","minY","maximizable","baseZIndex","visibleChange"],[3,"formGroup","ngSubmit"],[1,"grid"],[1,"col-2"],[1,"col-12"],["type","text","pInputText","","formControlName","nombre",1,"w100"],[1,"col-5"],["type","text","pInputText","","formControlName","primerApellido",1,"w100"],["type","text","pInputText","","formControlName","segundoApellido",1,"w100"],["formControlName","role","optionLabel","value","optionValue","id",3,"options"],[1,"col-4"],["type","email","pInputText","","formControlName","email",1,"w100"],[1,"col-3"],["type","password","pInputText","","formControlName","password",1,"w100"],["type","password","pInputText","","formControlName","passwordMatch",1,"w100"],["type","text","pInputText","","formControlName","foto",1,"w100"],[1,"col-12","text-right"],["type","submit","pButton","","pRipple","","icon","fas fa-save","label","Guardar",1,"p-button-success",3,"disabled"],["type","button","pButton","","pRipple","","icon","fas fa-arrow-left","label","Volver",1,"p-button-secondary",3,"click"],[1,"row","animated","fadeIn","fast"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"card"],[1,"card-body"],[1,"col-10"],[1,"card-title"],[1,"col-2","text-right"],["label","A\xf1adir juez",3,"click"],["styleClass","p-datatable-striped","sortMode","single",3,"value","paginator","rows","rowsPerPageOptions"],["pTemplate","header"],["pTemplate","body"],[1,"w100"],["pSortableColumn","nombre"],["field","nombre"],["pSortableColumn","primerApellido"],["field","primerApellido"],["pSortableColumn","segundoApellido"],["field","segundoApellido"],["pSortableColumn","email"],["field","email"],["pSortableColumn","role"],["field","role"],[1,"text-nowrap","w100"],[1,"text-center"],["alt","Foto juez",1,"avatar","cursor",3,"src","click"],["optionLabel","value","optionValue","id",3,"options","ngModel","ngModelChange","onChange"],[1,"text-nowrap","text-center"],["data-toggle","tooltip","data-original-title","Borrar",1,"cursor",3,"click"],[1,"fa","fa-close","text-danger"]],template:function(e,t){1&e&&(Z.YNc(0,re,8,0,"div",0),Z.YNc(1,de,13,5,"div",0),Z.TgZ(2,"p-dialog",1),Z.NdJ("visibleChange",function(e){return t.displayModalCrear=e}),Z.TgZ(3,"form",2),Z.NdJ("ngSubmit",function(){return t.crearJuez()}),Z.TgZ(4,"div",3),Z.TgZ(5,"div",4),Z.TgZ(6,"div",3),Z.TgZ(7,"div",5),Z.TgZ(8,"b"),Z._uU(9,"Nombre:*"),Z.qZA(),Z.qZA(),Z.TgZ(10,"div",5),Z._UZ(11,"input",6),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(12,"div",7),Z.TgZ(13,"div",3),Z.TgZ(14,"div",5),Z.TgZ(15,"b"),Z._uU(16,"Primer apellido:*"),Z.qZA(),Z.qZA(),Z.TgZ(17,"div",5),Z._UZ(18,"input",8),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(19,"div",7),Z.TgZ(20,"div",3),Z.TgZ(21,"div",5),Z.TgZ(22,"b"),Z._uU(23,"Segundo apellido:"),Z.qZA(),Z.qZA(),Z.TgZ(24,"div",5),Z._UZ(25,"input",9),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(26,"div",4),Z.TgZ(27,"div",3),Z.TgZ(28,"div",5),Z.TgZ(29,"b"),Z._uU(30,"Role:*"),Z.qZA(),Z.qZA(),Z.TgZ(31,"div",5),Z._UZ(32,"p-dropdown",10),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(33,"div",11),Z.TgZ(34,"div",3),Z.TgZ(35,"div",5),Z.TgZ(36,"b"),Z._uU(37,"Email:*"),Z.qZA(),Z.qZA(),Z.TgZ(38,"div",5),Z._UZ(39,"input",12),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(40,"div",13),Z.TgZ(41,"div",3),Z.TgZ(42,"div",5),Z.TgZ(43,"b"),Z._uU(44,"Contrase\xf1a:*"),Z.qZA(),Z.qZA(),Z.TgZ(45,"div",5),Z._UZ(46,"input",14),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(47,"div",13),Z.TgZ(48,"div",3),Z.TgZ(49,"div",5),Z.TgZ(50,"b"),Z._uU(51,"Confirmar Contrase\xf1a:*"),Z.qZA(),Z.qZA(),Z.TgZ(52,"div",5),Z._UZ(53,"input",15),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(54,"div",4),Z.TgZ(55,"div",3),Z.TgZ(56,"div",5),Z.TgZ(57,"b"),Z._uU(58,"Foto:"),Z.qZA(),Z.qZA(),Z.TgZ(59,"div",5),Z._UZ(60,"input",16),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(61,"div",17),Z._UZ(62,"button",18),Z._uU(63," \xa0 "),Z.TgZ(64,"button",19),Z.NdJ("click",function(){return t.displayModalCrear=!1}),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA()),2&e&&(Z.Q6J("ngIf",t.cargando),Z.xp6(1),Z.Q6J("ngIf",!t.cargando),Z.xp6(1),Z.Akn(Z.DdM(12,le)),Z.Q6J("visible",t.displayModalCrear)("modal",!0)("minY",70)("maximizable",!0)("baseZIndex",1e4),Z.xp6(1),Z.Q6J("formGroup",t.formJueces),Z.xp6(29),Z.Q6J("options",t.comboOptions),Z.xp6(30),Z.Q6J("disabled",!t.formJueces.valid))},directives:[x.O5,M.V,n._Y,n.JL,n.sg,n.Fj,U.o,n.JJ,n.u,ne.Lt,z.Hq,k.H,z.zx,I.iA,y.jx,I.lQ,I.fz,n.On],styles:[".p-dropdown[_ngcontent-%COMP%]{width:100%}.p-inputtext[_ngcontent-%COMP%]{width:100%}.p-fluid[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{width:100%}.p-tree[_ngcontent-%COMP%]   .p-tree-filter-container[_ngcontent-%COMP%]   .p-tree-filter[_ngcontent-%COMP%]{width:100%}.p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%]{width:100%}.p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%] > .p-menuitem[_ngcontent-%COMP%]{width:100%}.p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]{width:100%}.p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%]   .p-menuitem[_ngcontent-%COMP%]{width:100%}.p-steps[_ngcontent-%COMP%]   .p-steps-item[_ngcontent-%COMP%]:before{width:100%}.p-component[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;opacity:.6}.p-disabled[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:visible;cursor:not-allowed!important;opacity:.6}.p-dropdown.p-component.p-disabled[_ngcontent-%COMP%]{cursor:not-allowed!important;opacity:.6}.p-component.p-radiobutton-disabled[_ngcontent-%COMP%]{cursor:not-allowed!important;opacity:.6}"]}),e})();function pe(e,t){1&e&&(Z.TgZ(0,"div",1),Z.TgZ(1,"div",2),Z.TgZ(2,"div",3),Z.TgZ(3,"h4",4),Z._uU(4,"Cargando"),Z.qZA(),Z._UZ(5,"i",5),Z.TgZ(6,"p",6),Z._uU(7,"Por favor espere"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA())}function ge(e,t){1&e&&(Z.TgZ(0,"tr"),Z.TgZ(1,"th",15),Z._uU(2,"Juez"),Z.qZA(),Z.TgZ(3,"th",16),Z._uU(4,"Competicion"),Z.qZA(),Z.TgZ(5,"th"),Z._uU(6,"Asiste"),Z.qZA(),Z.qZA())}function Ze(e,t){if(1&e){const e=Z.EpF();Z.TgZ(0,"tr"),Z.TgZ(1,"td"),Z._uU(2),Z.qZA(),Z.TgZ(3,"td"),Z._uU(4),Z.ALo(5,"date"),Z.qZA(),Z.TgZ(6,"td",17),Z.TgZ(7,"p-checkbox",18),Z.NdJ("onChange",function(t){const i=Z.CHM(e).$implicit;return Z.oxw(2).actualizarAsistencia(t,i)}),Z.qZA(),Z.qZA(),Z.qZA()}if(2&e){const e=t.$implicit;Z.xp6(2),Z.lnq(" ",null==e.juez?null:e.juez.primerApellido," ",null==e.juez?null:e.juez.segundoApellido,", ",null==e.juez?null:e.juez.nombre," "),Z.xp6(2),Z.lnq(" ",e.competicion.nombre," - ",e.competicion.lugar,"- ",Z.xi3(5,8,e.competicion.fecha,"dd/MM/yyyy")," "),Z.xp6(3),Z.Q6J("binary",!0)("ngModel",e.asiste)}}const me=function(){return[10,25,50]};function he(e,t){if(1&e&&(Z.TgZ(0,"div",1),Z.TgZ(1,"div",2),Z.TgZ(2,"div",7),Z.TgZ(3,"div",8),Z.TgZ(4,"div",9),Z.TgZ(5,"div",10),Z.TgZ(6,"h4",11),Z._uU(7,"Listado jueces disponibles para la competici\xf3n: "),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(8,"p-table",12),Z.YNc(9,ge,7,0,"ng-template",13),Z.YNc(10,Ze,8,11,"ng-template",14),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA()),2&e){const e=Z.oxw();Z.xp6(8),Z.Q6J("value",e.asistencias)("paginator",!0)("rows",10)("rowsPerPageOptions",Z.DdM(4,me))}}let fe=(()=>{class e{constructor(e,t){this.asistenciaService=e,this.activatedRoute=t,this.asistencias=[],this.desde=0,this.cargando=!0}ngOnDestroy(){}ngOnInit(){this.activatedRoute.params.subscribe(({idCompeticion:e})=>{this.idCompeticion=e,this.cargarAsistencias(e)})}cargarAsistencias(e){this.cargando=!0,this.asistenciaService.cargarAsistencias(e).subscribe(({asistencias:e})=>{this.asistencias=e,this.cargando=!1})}actualizarAsistencia(e,t){this.asistenciaService.actualizarAsistencia({asiste:e.checked,id:t.id}).subscribe(e=>{e.ok?this.cargarAsistencias(this.idCompeticion):(console.error(e),g().fire("Error",e.msg,"error"))},e=>{g().fire("Error",e.error.msg,"error")})}}return e.\u0275fac=function(t){return new(t||e)(Z.Y36(C),Z.Y36(o.gz))},e.\u0275cmp=Z.Xpm({type:e,selectors:[["app-asistencias"]],decls:2,vars:2,consts:[["class","row animated fadeIn fast",4,"ngIf"],[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"card"],[1,"card-body"],[1,"grid"],[1,"col-10"],[1,"card-title"],["styleClass","p-datatable-striped",3,"value","paginator","rows","rowsPerPageOptions"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","nombre"],["pSortableColumn","lugar"],[1,"text-center"],[3,"binary","ngModel","onChange"]],template:function(e,t){1&e&&(Z.YNc(0,pe,8,0,"div",0),Z.YNc(1,he,11,5,"div",0)),2&e&&(Z.Q6J("ngIf",t.cargando),Z.xp6(1),Z.Q6J("ngIf",!t.cargando))},directives:[x.O5,I.iA,y.jx,I.lQ,O.XZ,n.JJ,n.On],pipes:[x.uU],styles:[".p-dropdown[_ngcontent-%COMP%]{width:100%}.p-inputtext[_ngcontent-%COMP%]{width:100%}.p-fluid[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{width:100%}.p-tree[_ngcontent-%COMP%]   .p-tree-filter-container[_ngcontent-%COMP%]   .p-tree-filter[_ngcontent-%COMP%]{width:100%}.p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%]{width:100%}.p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%] > .p-menuitem[_ngcontent-%COMP%]{width:100%}.p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]{width:100%}.p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%]   .p-menuitem[_ngcontent-%COMP%]{width:100%}.p-steps[_ngcontent-%COMP%]   .p-steps-item[_ngcontent-%COMP%]:before{width:100%}.p-disabled[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:visible;cursor:not-allowed!important;opacity:.6}.p-dropdown.p-component.p-disabled[_ngcontent-%COMP%]{cursor:not-allowed!important;opacity:.6}.p-component.p-radiobutton-disabled[_ngcontent-%COMP%]{cursor:not-allowed!important;opacity:.6}.p-component[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;opacity:.6}p-checkbox[_ngcontent-%COMP%]   .p-checkbox-disabled[_ngcontent-%COMP%]{cursor:not-allowed!important;opacity:.6}"]}),e})();var be=i(67096);function Ae(e,t){if(1&e&&Z._UZ(0,"img",22),2&e){const e=Z.oxw();Z.Q6J("src",e.juez.fotoUrl,Z.LSH)}}function Te(e,t){if(1&e&&Z._UZ(0,"img",22),2&e){const e=Z.oxw();Z.Q6J("src",e.imgTemp,Z.LSH)}}const ve=[{path:"competiciones",canActivate:[ee],component:W,data:{titulo:"Competiciones"}},{path:"account-settings",component:oe,data:{titulo:"Ajustes de cuenta"}},{path:"asistencias/:idCompeticion",canActivate:[te],component:fe,data:{titulo:"Asistencias"}},{path:"jueces",canActivate:[K],component:ue,data:{titulo:"Jueces"}},{path:"perfil",component:(()=>{class e{constructor(e,t,i){this.fb=e,this.juezService=t,this.fileUploadService=i,this.imgTemp=null,this.juez=t.juez}ngOnInit(){this.perfilForm=this.fb.group({nombre:[this.juez.nombre,n.kI.required],email:[this.juez.email,[n.kI.required,n.kI.email]]})}actualizarPerfil(){this.juezService.actualizarPerfil(this.perfilForm.value).subscribe(()=>{const{nombre:e,email:t}=this.perfilForm.value;this.juez.nombre=e,this.juez.email=t,g().fire("Guardado","Cambios fueron guardados","success")},e=>{g().fire("Error",e.error.msg,"error")})}cambiarImagen(e){if(this.imagenSubir=e,!e)return this.imgTemp=null;const t=new FileReader;t.readAsDataURL(e),t.onloadend=()=>{this.imgTemp=t.result}}subirImagen(){this.fileUploadService.actualizarFoto(this.imagenSubir,"jueces",this.juez.id).then(e=>{this.juez.foto=e,g().fire("Guardado","Imagen de juez actualizada","success")}).catch(e=>{console.log(e),g().fire("Error","No se pudo subir la imagen","error")})}}return e.\u0275fac=function(t){return new(t||e)(Z.Y36(n.qu),Z.Y36(v.E),Z.Y36(be.J))},e.\u0275cmp=Z.Xpm({type:e,selectors:[["app-perfil"]],decls:42,vars:6,consts:[[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle"],[1,"form","p-t-20",3,"formGroup","submit"],[1,"form-group"],["for","exampleInputuname"],[1,"input-group"],[1,"input-group-addon"],[1,"ti-user"],["type","text","id","exampleInputuname","placeholder","Nombre del juez","formControlName","nombre",1,"form-control"],["for","exampleInputEmail1"],[1,"ti-email"],["type","email","id","exampleInputEmail1","placeholder","Email","formControlName","email",1,"form-control",3,"readOnly"],["type","submit",1,"btn","btn-success","btn-block","waves-effect","waves-light","m-r-10",3,"disabled"],[1,"fa","fa-save"],[1,"text-center"],["class","img-avatar",3,"src",4,"ngIf"],["type","file",3,"change"],["type","button",1,"btn","btn-success","btn-block","waves-effect","waves-light","m-r-10",3,"disabled","click"],[1,"img-avatar",3,"src"]],template:function(e,t){1&e&&(Z.TgZ(0,"div",0),Z.TgZ(1,"div",1),Z.TgZ(2,"div",2),Z.TgZ(3,"div",3),Z.TgZ(4,"h4",4),Z._uU(5,"Mi perfi"),Z.qZA(),Z.TgZ(6,"h6",5),Z._uU(7,"Ajustes"),Z.qZA(),Z.TgZ(8,"form",6),Z.NdJ("submit",function(){return t.actualizarPerfil()}),Z.TgZ(9,"div",7),Z.TgZ(10,"label",8),Z._uU(11,"User Name"),Z.qZA(),Z.TgZ(12,"div",9),Z.TgZ(13,"div",10),Z._UZ(14,"i",11),Z.qZA(),Z._UZ(15,"input",12),Z.qZA(),Z.qZA(),Z.TgZ(16,"div",7),Z.TgZ(17,"label",13),Z._uU(18,"Email address"),Z.qZA(),Z.TgZ(19,"div",9),Z.TgZ(20,"div",10),Z._UZ(21,"i",14),Z.qZA(),Z._UZ(22,"input",15),Z.qZA(),Z.qZA(),Z.TgZ(23,"button",16),Z._UZ(24,"i",17),Z._uU(25," Guardar cambios "),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(26,"div",1),Z.TgZ(27,"div",2),Z.TgZ(28,"div",3),Z.TgZ(29,"h4",4),Z._uU(30,"Avatar"),Z.qZA(),Z.TgZ(31,"h6",5),Z._uU(32,"Imagen del juez"),Z.qZA(),Z.TgZ(33,"div",18),Z.YNc(34,Ae,1,1,"img",19),Z.YNc(35,Te,1,1,"img",19),Z.qZA(),Z.TgZ(36,"input",20),Z.NdJ("change",function(e){return t.cambiarImagen(e.target.files[0])}),Z.qZA(),Z._UZ(37,"br"),Z._UZ(38,"br"),Z.TgZ(39,"button",21),Z.NdJ("click",function(){return t.subirImagen()}),Z._UZ(40,"i",17),Z._uU(41," Cambiar imagen "),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA()),2&e&&(Z.xp6(8),Z.Q6J("formGroup",t.perfilForm),Z.xp6(14),Z.Q6J("readOnly",t.juez.email),Z.xp6(1),Z.Q6J("disabled",t.perfilForm.invalid),Z.xp6(11),Z.Q6J("ngIf",!t.imgTemp),Z.xp6(1),Z.Q6J("ngIf",t.imgTemp),Z.xp6(4),Z.Q6J("disabled",!t.imagenSubir))},directives:[n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,x.O5],encapsulation:2}),e})(),data:{titulo:"Perfil de juez"}},{path:"",redirectTo:"/competiciones",pathMatch:"full"}];let qe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Z.oAB({type:e}),e.\u0275inj=Z.cJS({imports:[[o.Bz.forChild(ve)],o.Bz]}),e})()}}]);